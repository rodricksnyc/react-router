{"version":3,"file":"ThisNextLast.js","names":["useOptions","field","type","showFiscal","showFiscalUnits","lastUnits","useLastUnits","fiscalLastUnits","useFiscalLastUnits","thisNextUnits","useThisNextUnits","fiscalThisNextUnits","useFiscalThisNextUnits","ThisNextLast","item","onChange","id","unit","unitChange","value","options"],"sources":["../../../../../../../../../src/Filter/components/AdvancedFilter/components/DateFilter/components/ThisNextLast/ThisNextLast.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FilterModel } from '@looker/filter-expressions'\nimport type { ILookmlModelExploreField } from '@looker/sdk'\nimport React from 'react'\nimport {\n  useFiscalThisNextUnits,\n  useFiscalLastUnits,\n  useThisNextUnits,\n  useLastUnits,\n} from '../../../../../../constants'\nimport type { Option } from '../../../../../../types/option'\nimport { showFiscalUnits } from '../../../../utils/show_fiscal_units'\nimport { GroupSelect } from '../../../GroupSelect'\n\ninterface ThisNextLastProps {\n  item: FilterModel\n  field: ILookmlModelExploreField\n  onChange: (id: string, item: Partial<FilterModel>) => void\n}\n\nconst useOptions = (\n  { type }: FilterModel,\n  field: ILookmlModelExploreField\n): Option[] => {\n  const showFiscal = showFiscalUnits(field)\n\n  const lastUnits = useLastUnits()\n  const fiscalLastUnits = useFiscalLastUnits()\n  const thisNextUnits = useThisNextUnits()\n  const fiscalThisNextUnits = useFiscalThisNextUnits()\n\n  if (type === 'last') {\n    return showFiscal ? fiscalLastUnits : lastUnits\n  }\n  return showFiscal ? fiscalThisNextUnits : thisNextUnits\n}\n\nexport const ThisNextLast = ({ item, onChange, field }: ThisNextLastProps) => {\n  const { id, unit } = item\n\n  const unitChange = (value: string) => onChange(id, { unit: value })\n\n  const options = useOptions(item, field)\n\n  return (\n    <GroupSelect\n      value={unit}\n      options={options}\n      onChange={unitChange}\n      placement=\"right\"\n    />\n  )\n}\n"],"mappings":";;;;;;;AAMA;AACA;AAOA;AACA;;AAQA,IAAMA,UAAU,GAAG,SAAbA,UAAU,OAEdC,KAA+B,EAClB;EAAA,IAFXC,IAAI,QAAJA,IAAI;EAGN,IAAMC,UAAU,GAAG,IAAAC,kCAAe,EAACH,KAAK,CAAC;EAEzC,IAAMI,SAAS,GAAG,IAAAC,uBAAY,GAAE;EAChC,IAAMC,eAAe,GAAG,IAAAC,6BAAkB,GAAE;EAC5C,IAAMC,aAAa,GAAG,IAAAC,2BAAgB,GAAE;EACxC,IAAMC,mBAAmB,GAAG,IAAAC,iCAAsB,GAAE;EAEpD,IAAIV,IAAI,KAAK,MAAM,EAAE;IACnB,OAAOC,UAAU,GAAGI,eAAe,GAAGF,SAAS;EACjD;EACA,OAAOF,UAAU,GAAGQ,mBAAmB,GAAGF,aAAa;AACzD,CAAC;AAEM,IAAMI,YAAY,GAAG,SAAfA,YAAY,QAAqD;EAAA,IAA/CC,IAAI,SAAJA,IAAI;IAAEC,QAAQ,SAARA,QAAQ;IAAEd,KAAK,SAALA,KAAK;EAClD,IAAQe,EAAE,GAAWF,IAAI,CAAjBE,EAAE;IAAEC,IAAI,GAAKH,IAAI,CAAbG,IAAI;EAEhB,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAa;IAAA,OAAKJ,QAAQ,CAACC,EAAE,EAAE;MAAEC,IAAI,EAAEE;IAAM,CAAC,CAAC;EAAA;EAEnE,IAAMC,OAAO,GAAGpB,UAAU,CAACc,IAAI,EAAEb,KAAK,CAAC;EAEvC,OACE,gCAAC,wBAAW;IACV,KAAK,EAAEgB,IAAK;IACZ,OAAO,EAAEG,OAAQ;IACjB,QAAQ,EAAEF,UAAW;IACrB,SAAS,EAAC;EAAO,EACjB;AAEN,CAAC;AAAA"}