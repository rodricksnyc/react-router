{"version":3,"file":"NumberFilter.js","names":["NumberFilter","item","filterType","onChange","validationMessage","userAttributes","showMatchesAdvanced","rest","isParameter","field","parameter","numberFilterOptions","useNumberFilterOptions","options","useFilterOptions","typeChange","value","id","sanitizeNumber","convertOptionToType","String","FilterComponent","numberFilterTypeToFilter","type","allowMultipleOptions","selectValue","convertTypeToOption","validationText","message","useTranslation","t","placeholder","length","undefined"],"sources":["../../../../../../../src/Filter/components/AdvancedFilter/components/NumberFilter/NumberFilter.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { NumberFilterType } from '@looker/filter-expressions'\nimport {\n  convertOptionToType,\n  convertTypeToOption,\n  sanitizeNumber,\n} from '@looker/filter-expressions'\nimport React from 'react'\nimport { useTranslation } from '../../../../../utils'\nimport type { FilterParamProps } from '../../../../types/filter_param_props'\nimport { ItemLayout } from '../ItemLayout'\nimport { GroupSelect } from '../GroupSelect'\nimport { numberFilterTypeToFilter } from './utils/number_filter_type_to_filter'\nimport { useNumberFilterOptions, useFilterOptions } from '../../utils'\n\nexport const NumberFilter = ({\n  item,\n  filterType,\n  onChange,\n  validationMessage,\n  userAttributes,\n  showMatchesAdvanced,\n  ...rest\n}: FilterParamProps<NumberFilterType>) => {\n  const isParameter = !!rest.field?.parameter\n  const numberFilterOptions = useNumberFilterOptions(isParameter)\n  const options = useFilterOptions(\n    numberFilterOptions,\n    !isParameter && showMatchesAdvanced\n  )\n\n  const typeChange = (value: string) =>\n    onChange(\n      item.id,\n      sanitizeNumber({ ...item, ...convertOptionToType(String(value)) })\n    )\n\n  const FilterComponent: any = numberFilterTypeToFilter(\n    item.type,\n    !!rest.allowMultipleOptions,\n    isParameter\n  )\n  const selectValue = convertTypeToOption(item)\n\n  const validationText = validationMessage?.message\n  const { t } = useTranslation('NumberFilter')\n  const placeholder =\n    validationText ||\n    (!item?.value?.length || item.value.length === 0 ? t('any value') : '')\n\n  return (\n    <ItemLayout item={item} {...rest}>\n      <GroupSelect\n        value={selectValue}\n        options={options}\n        onChange={typeChange}\n        validationType={validationMessage?.type}\n        placement={item.type === 'null' ? undefined : 'left'}\n      />\n      <FilterComponent\n        item={item}\n        onChange={onChange}\n        validationMessage={validationMessage}\n        placement=\"right\"\n        userAttributes={userAttributes}\n        filterType={filterType}\n        placeholder={placeholder}\n      />\n    </ItemLayout>\n  )\n}\n"],"mappings":";;;;;;;;;;AAMA;AAKA;AACA;AAEA;AACA;AACA;AACA;AAAsE;AAAA;AAAA;AAE/D,IAAMA,YAAY,GAAG,SAAfA,YAAY,OAQiB;EAAA;EAAA,IAPxCC,IAAI,QAAJA,IAAI;IACJC,UAAU,QAAVA,UAAU;IACVC,QAAQ,QAARA,QAAQ;IACRC,iBAAiB,QAAjBA,iBAAiB;IACjBC,cAAc,QAAdA,cAAc;IACdC,mBAAmB,QAAnBA,mBAAmB;IAChBC,IAAI;EAEP,IAAMC,WAAW,GAAG,CAAC,iBAACD,IAAI,CAACE,KAAK,wCAAV,YAAYC,SAAS;EAC3C,IAAMC,mBAAmB,GAAG,IAAAC,8BAAsB,EAACJ,WAAW,CAAC;EAC/D,IAAMK,OAAO,GAAG,IAAAC,wBAAgB,EAC9BH,mBAAmB,EACnB,CAACH,WAAW,IAAIF,mBAAmB,CACpC;EAED,IAAMS,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAa;IAAA,OAC/Bb,QAAQ,CACNF,IAAI,CAACgB,EAAE,EACP,IAAAC,iCAAc,kCAAMjB,IAAI,GAAK,IAAAkB,sCAAmB,EAACC,MAAM,CAACJ,KAAK,CAAC,CAAC,EAAG,CACnE;EAAA;EAEH,IAAMK,eAAoB,GAAG,IAAAC,sDAAwB,EACnDrB,IAAI,CAACsB,IAAI,EACT,CAAC,CAAChB,IAAI,CAACiB,oBAAoB,EAC3BhB,WAAW,CACZ;EACD,IAAMiB,WAAW,GAAG,IAAAC,sCAAmB,EAACzB,IAAI,CAAC;EAE7C,IAAM0B,cAAc,GAAGvB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEwB,OAAO;EACjD,sBAAc,IAAAC,qBAAc,EAAC,cAAc,CAAC;IAApCC,CAAC,mBAADA,CAAC;EACT,IAAMC,WAAW,GACfJ,cAAc,KACb,EAAC1B,IAAI,aAAJA,IAAI,8BAAJA,IAAI,CAAEe,KAAK,wCAAX,YAAagB,MAAM,KAAI/B,IAAI,CAACe,KAAK,CAACgB,MAAM,KAAK,CAAC,GAAGF,CAAC,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;EAEzE,OACE,gCAAC,sBAAU;IAAC,IAAI,EAAE7B;EAAK,GAAKM,IAAI,GAC9B,gCAAC,wBAAW;IACV,KAAK,EAAEkB,WAAY;IACnB,OAAO,EAAEZ,OAAQ;IACjB,QAAQ,EAAEE,UAAW;IACrB,cAAc,EAAEX,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEmB,IAAK;IACxC,SAAS,EAAEtB,IAAI,CAACsB,IAAI,KAAK,MAAM,GAAGU,SAAS,GAAG;EAAO,EACrD,EACF,gCAAC,eAAe;IACd,IAAI,EAAEhC,IAAK;IACX,QAAQ,EAAEE,QAAS;IACnB,iBAAiB,EAAEC,iBAAkB;IACrC,SAAS,EAAC,OAAO;IACjB,cAAc,EAAEC,cAAe;IAC/B,UAAU,EAAEH,UAAW;IACvB,WAAW,EAAE6B;EAAY,EACzB,CACS;AAEjB,CAAC;AAAA"}