{"version":3,"file":"SingleNumberInput.js","names":["getInputValue","value","singleValue","Array","isArray","includes","toString","SingleNumberInput","item","onChange","placement","validationMessage","inputChange","currentTarget","numberValue","getNumberFromString","newValueArr","Number","isNaN","id","inputValue","type"],"sources":["../../../../../../../../../src/Filter/components/AdvancedFilter/components/NumberFilter/components/SingleNumberInput/SingleNumberInput.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { ValidationMessageProps } from '@looker/components'\nimport { getNumberFromString } from '@looker/filter-expressions'\nimport type { FilterModel } from '@looker/filter-expressions'\nimport type { ChangeEvent } from 'react'\nimport React from 'react'\nimport type { GroupInputProps } from '../../../GroupInput'\nimport { GroupInput } from '../../../GroupInput'\n\ninterface SingleNumberInputProps extends Omit<GroupInputProps, 'onChange'> {\n  item: FilterModel\n  onChange?: (id: string, value: any) => void\n  validationMessage?: ValidationMessageProps\n}\n\nconst getInputValue = (value?: unknown | unknown[]) => {\n  const singleValue = (Array.isArray(value) ? value[0] : value) ?? ''\n  if (['number', 'bigint'].includes(typeof singleValue)) {\n    return singleValue.toString()\n  }\n  return singleValue || ''\n}\n\nexport const SingleNumberInput = ({\n  item,\n  onChange,\n  placement,\n  validationMessage,\n}: SingleNumberInputProps) => {\n  const inputChange = ({\n    currentTarget: { value },\n  }: ChangeEvent<HTMLInputElement>) => {\n    const numberValue = getNumberFromString(value)\n    const newValueArr = value === '' ? [] : [numberValue]\n    if (!Number.isNaN(numberValue)) {\n      onChange?.(item.id, { value: newValueArr })\n    }\n  }\n\n  const inputValue = getInputValue(item.value)\n\n  return (\n    <GroupInput\n      type=\"number\"\n      value={inputValue}\n      onChange={inputChange}\n      placement={placement}\n      minWidth=\"4.5em\"\n      data-testid=\"single-number\"\n      validationType={validationMessage?.type}\n      noErrorIcon\n    />\n  )\n}\n"],"mappings":";;;;;;;;AAMA;AAGA;AAEA;;AAQA,IAAMA,aAAa,GAAG,SAAhBA,aAAa,CAAIC,KAA2B,EAAK;EAAA;EACrD,IAAMC,WAAW,WAAIC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,uCAAK,EAAE;EACnE,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAACI,QAAQ,0BAAQH,WAAW,EAAC,EAAE;IACrD,OAAOA,WAAW,CAACI,QAAQ,EAAE;EAC/B;EACA,OAAOJ,WAAW,IAAI,EAAE;AAC1B,CAAC;AAEM,IAAMK,iBAAiB,GAAG,SAApBA,iBAAiB,QAKA;EAAA,IAJ5BC,IAAI,SAAJA,IAAI;IACJC,QAAQ,SAARA,QAAQ;IACRC,SAAS,SAATA,SAAS;IACTC,iBAAiB,SAAjBA,iBAAiB;EAEjB,IAAMC,WAAW,GAAG,SAAdA,WAAW,QAEoB;IAAA,IADlBX,KAAK,SAAtBY,aAAa,CAAIZ,KAAK;IAEtB,IAAMa,WAAW,GAAG,IAAAC,sCAAmB,EAACd,KAAK,CAAC;IAC9C,IAAMe,WAAW,GAAGf,KAAK,KAAK,EAAE,GAAG,EAAE,GAAG,CAACa,WAAW,CAAC;IACrD,IAAI,CAACG,MAAM,CAACC,KAAK,CAACJ,WAAW,CAAC,EAAE;MAC9BL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAGD,IAAI,CAACW,EAAE,EAAE;QAAElB,KAAK,EAAEe;MAAY,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,IAAMI,UAAU,GAAGpB,aAAa,CAACQ,IAAI,CAACP,KAAK,CAAC;EAE5C,OACE,gCAAC,sBAAU;IACT,IAAI,EAAC,QAAQ;IACb,KAAK,EAAEmB,UAAW;IAClB,QAAQ,EAAER,WAAY;IACtB,SAAS,EAAEF,SAAU;IACrB,QAAQ,EAAC,OAAO;IAChB,eAAY,eAAe;IAC3B,cAAc,EAAEC,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEU,IAAK;IACxC,WAAW;EAAA,EACX;AAEN,CAAC;AAAA"}