{"version":3,"file":"StringInput.spec.js","names":["describe","jest","useFakeTimers","getMockedComponent","props","fn","id","it","renderWithTheme","suggestions","input","screen","getByPlaceholderText","fireEvent","click","expect","getByRole","toBeInTheDocument","getByText","document","onChangeMock","onInputChange","change","target","value","keyDown","key","code","charCode","queryByText","not"],"sources":["../../../../../../../../../src/Filter/components/AdvancedFilter/components/StringFilter/components/StringInput/StringInput.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FilterModel } from '@looker/filter-expressions'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { fireEvent, screen } from '@testing-library/react'\nimport React from 'react'\nimport { StringInput } from './StringInput'\n\ndescribe('StringInput tests', () => {\n  jest.useFakeTimers()\n  const getMockedComponent = ({ ...props }) => (\n    <StringInput\n      onChange={jest.fn()}\n      item={{ id: '1' } as FilterModel}\n      suggestions={['Foo']}\n      {...props}\n    />\n  )\n\n  describe('showDropDownMenu', () => {\n    it('should show options dropdown if there are suggestions available', () => {\n      renderWithTheme(getMockedComponent({ suggestions: ['Foo'] }))\n\n      const input = screen.getByPlaceholderText('any value')\n      fireEvent.click(input)\n\n      expect(screen.getByRole('listbox')).toBeInTheDocument()\n      expect(screen.getByText('Foo')).toBeInTheDocument()\n\n      // Close popover to silence act() warning\n      fireEvent.click(document)\n    })\n  })\n\n  describe('event hanlders', () => {\n    it('should hide the options popover on enter', () => {\n      const onChangeMock = jest.fn()\n      renderWithTheme(\n        getMockedComponent({\n          suggestions: ['Foo'],\n          onInputChange: onChangeMock,\n        })\n      )\n      const input = screen.getByPlaceholderText('any value')\n      fireEvent.click(input)\n      fireEvent.change(input, { target: { value: 'bar' } })\n      fireEvent.keyDown(input, { key: 'Enter', code: 'Enter', charCode: 13 })\n      expect(screen.queryByText('Foo')).not.toBeInTheDocument()\n    })\n  })\n})\n"],"mappings":";;;;;AAKA;AACA;AACA;AACA;;AAEAA,QAAQ,CAAC,mBAAmB,EAAE,YAAM;EAClCC,IAAI,CAACC,aAAa,EAAE;EACpB,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB;IAAA,IAASC,KAAK;IAAA,OACpC,iCAAC,wBAAW;MACV,QAAQ,EAAEH,IAAI,CAACI,EAAE,EAAG;MACpB,IAAI,EAAE;QAAEC,EAAE,EAAE;MAAI,CAAiB;MACjC,WAAW,EAAE,CAAC,KAAK;IAAE,GACjBF,KAAK,EACT;EAAA,CACH;EAEDJ,QAAQ,CAAC,kBAAkB,EAAE,YAAM;IACjCO,EAAE,CAAC,iEAAiE,EAAE,YAAM;MAC1E,IAAAC,oCAAe,EAACL,kBAAkB,CAAC;QAAEM,WAAW,EAAE,CAAC,KAAK;MAAE,CAAC,CAAC,CAAC;MAE7D,IAAMC,KAAK,GAAGC,aAAM,CAACC,oBAAoB,CAAC,WAAW,CAAC;MACtDC,gBAAS,CAACC,KAAK,CAACJ,KAAK,CAAC;MAEtBK,MAAM,CAACJ,aAAM,CAACK,SAAS,CAAC,SAAS,CAAC,CAAC,CAACC,iBAAiB,EAAE;MACvDF,MAAM,CAACJ,aAAM,CAACO,SAAS,CAAC,KAAK,CAAC,CAAC,CAACD,iBAAiB,EAAE;;MAGnDJ,gBAAS,CAACC,KAAK,CAACK,QAAQ,CAAC;IAC3B,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFnB,QAAQ,CAAC,gBAAgB,EAAE,YAAM;IAC/BO,EAAE,CAAC,0CAA0C,EAAE,YAAM;MACnD,IAAMa,YAAY,GAAGnB,IAAI,CAACI,EAAE,EAAE;MAC9B,IAAAG,oCAAe,EACbL,kBAAkB,CAAC;QACjBM,WAAW,EAAE,CAAC,KAAK,CAAC;QACpBY,aAAa,EAAED;MACjB,CAAC,CAAC,CACH;MACD,IAAMV,KAAK,GAAGC,aAAM,CAACC,oBAAoB,CAAC,WAAW,CAAC;MACtDC,gBAAS,CAACC,KAAK,CAACJ,KAAK,CAAC;MACtBG,gBAAS,CAACS,MAAM,CAACZ,KAAK,EAAE;QAAEa,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAM;MAAE,CAAC,CAAC;MACrDX,gBAAS,CAACY,OAAO,CAACf,KAAK,EAAE;QAAEgB,GAAG,EAAE,OAAO;QAAEC,IAAI,EAAE,OAAO;QAAEC,QAAQ,EAAE;MAAG,CAAC,CAAC;MACvEb,MAAM,CAACJ,aAAM,CAACkB,WAAW,CAAC,KAAK,CAAC,CAAC,CAACC,GAAG,CAACb,iBAAiB,EAAE;IAC3D,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}