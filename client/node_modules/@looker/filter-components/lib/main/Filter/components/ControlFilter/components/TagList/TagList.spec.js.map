{"version":3,"file":"TagList.spec.js","names":["describe","jest","useFakeTimers","filterOptions","optionText","input","screen","getByPlaceholderText","fireEvent","change","target","value","it","onInputChange","fn","options1000","Array","from","_","i","label","String","Component","renderWithTheme","act","runAllTimers","waitFor","expect","toHaveBeenCalledWith"],"sources":["../../../../../../../src/Filter/components/ControlFilter/components/TagList/TagList.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { act, fireEvent, screen, waitFor } from '@testing-library/react'\nimport React from 'react'\nimport { TagList } from './TagList'\n\ndescribe('TagList tests', () => {\n  jest.useFakeTimers()\n\n  describe('on `inputchange`', () => {\n    const filterOptions = (optionText: string) => {\n      const input = screen.getByPlaceholderText('any value')\n      fireEvent.change(input, { target: { value: optionText } })\n    }\n\n    describe('when options are more than 999', () => {\n      it('should trigger the input change handler', async () => {\n        const value: string[] = []\n        const onInputChange = jest.fn()\n        const options1000 = Array.from(Array(1000), (_, i) => ({\n          label: String(i),\n          value: String(i),\n        }))\n        const Component = (\n          <TagList\n            value={value}\n            options={options1000}\n            onChange={jest.fn()}\n            onInputChange={onInputChange}\n          />\n        )\n\n        renderWithTheme(Component)\n\n        filterOptions('label1')\n        act(() => {\n          jest.runAllTimers()\n        })\n        await waitFor(() => {\n          expect(onInputChange).toHaveBeenCalledWith('label1')\n        })\n      })\n    })\n  })\n})\n"],"mappings":";;;;AAIA;AACA;AACA;AACA;;AAEAA,QAAQ,CAAC,eAAe,EAAE,YAAM;EAC9BC,IAAI,CAACC,aAAa,EAAE;EAEpBF,QAAQ,CAAC,kBAAkB,EAAE,YAAM;IACjC,IAAMG,aAAa,GAAG,SAAhBA,aAAa,CAAIC,UAAkB,EAAK;MAC5C,IAAMC,KAAK,GAAGC,aAAM,CAACC,oBAAoB,CAAC,WAAW,CAAC;MACtDC,gBAAS,CAACC,MAAM,CAACJ,KAAK,EAAE;QAAEK,MAAM,EAAE;UAAEC,KAAK,EAAEP;QAAW;MAAE,CAAC,CAAC;IAC5D,CAAC;IAEDJ,QAAQ,CAAC,gCAAgC,EAAE,YAAM;MAC/CY,EAAE,CAAC,yCAAyC,6DAAE;QAAA;QAAA;UAAA;YAAA;cACtCD,KAAe,GAAG,EAAE;cACpBE,aAAa,GAAGZ,IAAI,CAACa,EAAE,EAAE;cACzBC,WAAW,GAAGC,KAAK,CAACC,IAAI,CAACD,KAAK,CAAC,IAAI,CAAC,EAAE,UAACE,CAAC,EAAEC,CAAC;gBAAA,OAAM;kBACrDC,KAAK,EAAEC,MAAM,CAACF,CAAC,CAAC;kBAChBR,KAAK,EAAEU,MAAM,CAACF,CAAC;gBACjB,CAAC;cAAA,CAAC,CAAC;cACGG,SAAS,GACb,iCAAC,gBAAO;gBACN,KAAK,EAAEX,KAAM;gBACb,OAAO,EAAEI,WAAY;gBACrB,QAAQ,EAAEd,IAAI,CAACa,EAAE,EAAG;gBACpB,aAAa,EAAED;cAAc,EAC7B;cAGJ,IAAAU,oCAAe,EAACD,SAAS,CAAC;cAE1BnB,aAAa,CAAC,QAAQ,CAAC;cACvB,IAAAqB,UAAG,EAAC,YAAM;gBACRvB,IAAI,CAACwB,YAAY,EAAE;cACrB,CAAC,CAAC;cAAA;cAAA,OACI,IAAAC,cAAO,EAAC,YAAM;gBAClBC,MAAM,CAACd,aAAa,CAAC,CAACe,oBAAoB,CAAC,QAAQ,CAAC;cACtD,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CACH,GAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}