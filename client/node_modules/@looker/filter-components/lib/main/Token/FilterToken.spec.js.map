{"version":3,"file":"FilterToken.spec.js","names":["composeStories","stories","Basic","Expression","Error","Inline","describe","i18nInit","it","renderWithTheme","token","screen","getByRole","expect","toHaveTextContent","name","fireEvent","click","toBeVisible","getByDisplayValue","document","toBeInvalid","getByText"],"sources":["../../../src/Token/FilterToken.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React from 'react'\nimport { composeStories } from '@storybook/testing-react'\nimport { fireEvent, screen } from '@testing-library/react'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { i18nInit } from '../utils'\nimport * as stories from './FilterToken.stories'\nconst { Basic, Expression, Error, Inline } = composeStories(stories)\n\ndescribe('FilterToken', () => {\n  i18nInit()\n  it('shows the filter summary', () => {\n    renderWithTheme(<Expression />)\n    const token = screen.getByRole('button')\n    expect(token).toHaveTextContent('is foo or bar')\n  })\n\n  it('opens a popover with filter UI', () => {\n    renderWithTheme(<Basic />)\n    const token = screen.getByRole('button', { name: 'is any time' })\n    fireEvent.click(token)\n    // the popover\n    expect(screen.getByRole('dialog')).toBeVisible()\n    // the filter dropdown\n    expect(screen.getByDisplayValue('is any time')).toBeVisible()\n\n    fireEvent.click(document)\n  })\n\n  it('shows error validation', () => {\n    renderWithTheme(<Error />)\n    const token = screen.getByRole('button', { name: 'Value required' })\n    fireEvent.click(token)\n    expect(screen.getByDisplayValue('is any time')).toBeInvalid()\n    expect(screen.getByText('Selection required')).toBeVisible()\n\n    fireEvent.click(document)\n  })\n\n  it('renders filter UI inline', () => {\n    renderWithTheme(<Inline />)\n    expect(screen.getByDisplayValue('is any time')).toBeVisible()\n  })\n})\n"],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;AACA;AAAgD;AAAA;;AAChD,sBAA6C,IAAAA,4BAAc,EAACC,OAAO,CAAC;EAA5DC,KAAK,mBAALA,KAAK;EAAEC,UAAU,mBAAVA,UAAU;EAAEC,KAAK,mBAALA,KAAK;EAAEC,MAAM,mBAANA,MAAM;AAExCC,QAAQ,CAAC,aAAa,EAAE,YAAM;EAC5B,IAAAC,eAAQ,GAAE;EACVC,EAAE,CAAC,0BAA0B,EAAE,YAAM;IACnC,IAAAC,oCAAe,EAAC,gCAAC,UAAU,OAAG,CAAC;IAC/B,IAAMC,KAAK,GAAGC,cAAM,CAACC,SAAS,CAAC,QAAQ,CAAC;IACxCC,MAAM,CAACH,KAAK,CAAC,CAACI,iBAAiB,CAAC,eAAe,CAAC;EAClD,CAAC,CAAC;EAEFN,EAAE,CAAC,gCAAgC,EAAE,YAAM;IACzC,IAAAC,oCAAe,EAAC,gCAAC,KAAK,OAAG,CAAC;IAC1B,IAAMC,KAAK,GAAGC,cAAM,CAACC,SAAS,CAAC,QAAQ,EAAE;MAAEG,IAAI,EAAE;IAAc,CAAC,CAAC;IACjEC,iBAAS,CAACC,KAAK,CAACP,KAAK,CAAC;IAEtBG,MAAM,CAACF,cAAM,CAACC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAACM,WAAW,EAAE;IAEhDL,MAAM,CAACF,cAAM,CAACQ,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAACD,WAAW,EAAE;IAE7DF,iBAAS,CAACC,KAAK,CAACG,QAAQ,CAAC;EAC3B,CAAC,CAAC;EAEFZ,EAAE,CAAC,wBAAwB,EAAE,YAAM;IACjC,IAAAC,oCAAe,EAAC,gCAAC,KAAK,OAAG,CAAC;IAC1B,IAAMC,KAAK,GAAGC,cAAM,CAACC,SAAS,CAAC,QAAQ,EAAE;MAAEG,IAAI,EAAE;IAAiB,CAAC,CAAC;IACpEC,iBAAS,CAACC,KAAK,CAACP,KAAK,CAAC;IACtBG,MAAM,CAACF,cAAM,CAACQ,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAACE,WAAW,EAAE;IAC7DR,MAAM,CAACF,cAAM,CAACW,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAACJ,WAAW,EAAE;IAE5DF,iBAAS,CAACC,KAAK,CAACG,QAAQ,CAAC;EAC3B,CAAC,CAAC;EAEFZ,EAAE,CAAC,0BAA0B,EAAE,YAAM;IACnC,IAAAC,oCAAe,EAAC,gCAAC,MAAM,OAAG,CAAC;IAC3BI,MAAM,CAACF,cAAM,CAACQ,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAACD,WAAW,EAAE;EAC/D,CAAC,CAAC;AACJ,CAAC,CAAC"}