{"version":3,"file":"i18n.spec.js","names":["describe","spy","beforeEach","i18next","isInitialized","jest","spyOn","afterEach","mockRestore","it","i18nInit","expect","init","toHaveBeenCalledTimes","mock","calls","lng","toEqual","custom","test","dateLocale","es","locale","resources","toMatchObject","getDateLocale","toBe"],"sources":["../../../src/utils/i18n.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport i18next from 'i18next'\nimport es from 'date-fns/locale/es'\nimport { getDateLocale } from '@looker/i18n'\nimport { i18nInit } from './i18n'\n\ndescribe('i18nInit', () => {\n  let spy: jest.SpyInstance\n  beforeEach(() => {\n    i18next.isInitialized = false\n    spy = jest.spyOn(i18next, 'init')\n  })\n  afterEach(() => {\n    spy.mockRestore()\n  })\n\n  it('initializes i18next', () => {\n    i18nInit()\n    expect(i18next.init).toHaveBeenCalledTimes(1)\n    expect(spy.mock.calls[0][0].lng).toEqual('en')\n  })\n\n  it('initializes i18next with specific locale and resources', () => {\n    const custom = { test: 'prueba' }\n    i18nInit({\n      dateLocale: es,\n      locale: 'es-ES',\n      resources: { 'es-ES': custom },\n    })\n    expect(i18next.init).toHaveBeenCalledTimes(1)\n    expect(spy.mock.calls[0][0].lng).toEqual('es-ES')\n    expect(spy.mock.calls[0][0].resources['es-ES']).toMatchObject(custom)\n    expect(getDateLocale()).toBe(es)\n  })\n})\n"],"mappings":";;;AAIA;AACA;AACA;AACA;;AAEAA,QAAQ,CAAC,UAAU,EAAE,YAAM;EACzB,IAAIC,GAAqB;EACzBC,UAAU,CAAC,YAAM;IACfC,mBAAO,CAACC,aAAa,GAAG,KAAK;IAC7BH,GAAG,GAAGI,IAAI,CAACC,KAAK,CAACH,mBAAO,EAAE,MAAM,CAAC;EACnC,CAAC,CAAC;EACFI,SAAS,CAAC,YAAM;IACdN,GAAG,CAACO,WAAW,EAAE;EACnB,CAAC,CAAC;EAEFC,EAAE,CAAC,qBAAqB,EAAE,YAAM;IAC9B,IAAAC,eAAQ,GAAE;IACVC,MAAM,CAACR,mBAAO,CAACS,IAAI,CAAC,CAACC,qBAAqB,CAAC,CAAC,CAAC;IAC7CF,MAAM,CAACV,GAAG,CAACa,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC;EAChD,CAAC,CAAC;EAEFR,EAAE,CAAC,wDAAwD,EAAE,YAAM;IACjE,IAAMS,MAAM,GAAG;MAAEC,IAAI,EAAE;IAAS,CAAC;IACjC,IAAAT,eAAQ,EAAC;MACPU,UAAU,EAAEC,cAAE;MACdC,MAAM,EAAE,OAAO;MACfC,SAAS,EAAE;QAAE,OAAO,EAAEL;MAAO;IAC/B,CAAC,CAAC;IACFP,MAAM,CAACR,mBAAO,CAACS,IAAI,CAAC,CAACC,qBAAqB,CAAC,CAAC,CAAC;IAC7CF,MAAM,CAACV,GAAG,CAACa,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,OAAO,CAAC,OAAO,CAAC;IACjDN,MAAM,CAACV,GAAG,CAACa,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACQ,SAAS,CAAC,OAAO,CAAC,CAAC,CAACC,aAAa,CAACN,MAAM,CAAC;IACrEP,MAAM,CAAC,IAAAc,mBAAa,GAAE,CAAC,CAACC,IAAI,CAACL,cAAE,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC,CAAC"}