{"version":3,"file":"Past.js","names":["React","useMemo","useFiscalPastUnits","usePastUnits","showFiscalUnits","GroupSelect","GroupInput","Past","item","onChange","field","id","value","unit","complete","valueChange","e","newValue","String","target","split","map","Number","unitChange","option","options","find","selectedUnit","fiscalPastUnits","pastUnits","formattedOptions","label"],"sources":["../../../../../../../../../src/Filter/components/AdvancedFilter/components/DateFilter/components/Past/Past.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FilterModel } from '@looker/filter-expressions'\nimport type { ILookmlModelExploreField } from '@looker/sdk'\nimport type { ChangeEvent } from 'react'\nimport React, { useMemo } from 'react'\nimport { useFiscalPastUnits, usePastUnits } from '../../../../../../constants'\nimport { showFiscalUnits } from '../../../../utils/show_fiscal_units'\nimport { GroupSelect } from '../../../GroupSelect'\nimport { GroupInput } from '../../../GroupInput'\n\ninterface PastProps {\n  item: FilterModel\n  onChange: (id: string, item: Partial<FilterModel>) => void\n  field: ILookmlModelExploreField\n}\n\nexport const Past = ({ item, onChange, field }: PastProps) => {\n  const { id, value, unit, complete } = item\n\n  const valueChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = String(e.target.value).split(',').map(Number)\n    onChange(id, { value: newValue })\n  }\n\n  const unitChange = (value: string) => {\n    const option = options.find((option) => option.value === value)\n    onChange(item.id, { unit: option?.unit, complete: option?.complete })\n  }\n  const selectedUnit = complete ? `c_${unit}` : `${unit}`\n\n  const fiscalPastUnits = useFiscalPastUnits()\n  const pastUnits = usePastUnits()\n  const options = showFiscalUnits(field) ? fiscalPastUnits : pastUnits\n  // options have extra properties that will cause React warnings\n  const formattedOptions = useMemo(\n    () => options.map(({ label, value }) => ({ label, value })),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n  return (\n    <>\n      <GroupInput onChange={valueChange} value={value} placement=\"middle\" />\n      <GroupSelect\n        value={selectedUnit}\n        options={formattedOptions}\n        onChange={unitChange}\n        placement=\"right\"\n      />\n    </>\n  )\n}\n"],"mappings":";;AAOA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,kBAAkB,EAAEC,YAAY,QAAQ,6BAA6B;AAC9E,SAASC,eAAe,QAAQ,qCAAqC;AACrE,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,UAAU,QAAQ,qBAAqB;AAQhD,OAAO,MAAMC,IAAI,GAAG,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC;AAAiB,CAAC,KAAK;EAC5D,MAAM;IAAEC,EAAE;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EAAS,CAAC,GAAGN,IAAI;EAE1C,MAAMO,WAAW,GAAIC,CAAgC,IAAK;IACxD,MAAMC,QAAQ,GAAGC,MAAM,CAACF,CAAC,CAACG,MAAM,CAACP,KAAK,CAAC,CAACQ,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,MAAM,CAAC;IAC9Db,QAAQ,CAACE,EAAE,EAAE;MAAEC,KAAK,EAAEK;IAAS,CAAC,CAAC;EACnC,CAAC;EAED,MAAMM,UAAU,GAAIX,KAAa,IAAK;IACpC,MAAMY,MAAM,GAAGC,OAAO,CAACC,IAAI,CAAEF,MAAM,IAAKA,MAAM,CAACZ,KAAK,KAAKA,KAAK,CAAC;IAC/DH,QAAQ,CAACD,IAAI,CAACG,EAAE,EAAE;MAAEE,IAAI,EAAEW,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEX,IAAI;MAAEC,QAAQ,EAAEU,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEV;IAAS,CAAC,CAAC;EACvE,CAAC;EACD,MAAMa,YAAY,GAAGb,QAAQ,GAAI,KAAID,IAAK,EAAC,GAAI,GAAEA,IAAK,EAAC;EAEvD,MAAMe,eAAe,GAAG1B,kBAAkB,EAAE;EAC5C,MAAM2B,SAAS,GAAG1B,YAAY,EAAE;EAChC,MAAMsB,OAAO,GAAGrB,eAAe,CAACM,KAAK,CAAC,GAAGkB,eAAe,GAAGC,SAAS;EAEpE,MAAMC,gBAAgB,GAAG7B,OAAO,CAC9B,MAAMwB,OAAO,CAACJ,GAAG,CAAC,CAAC;IAAEU,KAAK;IAAEnB;EAAM,CAAC,MAAM;IAAEmB,KAAK;IAAEnB;EAAM,CAAC,CAAC,CAAC;EAE3D,EAAE,CACH;EACD,OACE,0CACE,oBAAC,UAAU;IAAC,QAAQ,EAAEG,WAAY;IAAC,KAAK,EAAEH,KAAM;IAAC,SAAS,EAAC;EAAQ,EAAG,EACtE,oBAAC,WAAW;IACV,KAAK,EAAEe,YAAa;IACpB,OAAO,EAAEG,gBAAiB;IAC1B,QAAQ,EAAEP,UAAW;IACrB,SAAS,EAAC;EAAO,EACjB,CACD;AAEP,CAAC"}