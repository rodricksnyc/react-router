{"version":3,"file":"ThisNextLast.js","names":["React","useFiscalThisNextUnits","useFiscalLastUnits","useThisNextUnits","useLastUnits","showFiscalUnits","GroupSelect","useOptions","type","field","showFiscal","lastUnits","fiscalLastUnits","thisNextUnits","fiscalThisNextUnits","ThisNextLast","item","onChange","id","unit","unitChange","value","options"],"sources":["../../../../../../../../../src/Filter/components/AdvancedFilter/components/DateFilter/components/ThisNextLast/ThisNextLast.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FilterModel } from '@looker/filter-expressions'\nimport type { ILookmlModelExploreField } from '@looker/sdk'\nimport React from 'react'\nimport {\n  useFiscalThisNextUnits,\n  useFiscalLastUnits,\n  useThisNextUnits,\n  useLastUnits,\n} from '../../../../../../constants'\nimport type { Option } from '../../../../../../types/option'\nimport { showFiscalUnits } from '../../../../utils/show_fiscal_units'\nimport { GroupSelect } from '../../../GroupSelect'\n\ninterface ThisNextLastProps {\n  item: FilterModel\n  field: ILookmlModelExploreField\n  onChange: (id: string, item: Partial<FilterModel>) => void\n}\n\nconst useOptions = (\n  { type }: FilterModel,\n  field: ILookmlModelExploreField\n): Option[] => {\n  const showFiscal = showFiscalUnits(field)\n\n  const lastUnits = useLastUnits()\n  const fiscalLastUnits = useFiscalLastUnits()\n  const thisNextUnits = useThisNextUnits()\n  const fiscalThisNextUnits = useFiscalThisNextUnits()\n\n  if (type === 'last') {\n    return showFiscal ? fiscalLastUnits : lastUnits\n  }\n  return showFiscal ? fiscalThisNextUnits : thisNextUnits\n}\n\nexport const ThisNextLast = ({ item, onChange, field }: ThisNextLastProps) => {\n  const { id, unit } = item\n\n  const unitChange = (value: string) => onChange(id, { unit: value })\n\n  const options = useOptions(item, field)\n\n  return (\n    <GroupSelect\n      value={unit}\n      options={options}\n      onChange={unitChange}\n      placement=\"right\"\n    />\n  )\n}\n"],"mappings":";;AAMA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,sBAAsB,EACtBC,kBAAkB,EAClBC,gBAAgB,EAChBC,YAAY,QACP,6BAA6B;AAEpC,SAASC,eAAe,QAAQ,qCAAqC;AACrE,SAASC,WAAW,QAAQ,sBAAsB;AAQlD,MAAMC,UAAU,GAAG,CACjB;EAAEC;AAAkB,CAAC,EACrBC,KAA+B,KAClB;EACb,MAAMC,UAAU,GAAGL,eAAe,CAACI,KAAK,CAAC;EAEzC,MAAME,SAAS,GAAGP,YAAY,EAAE;EAChC,MAAMQ,eAAe,GAAGV,kBAAkB,EAAE;EAC5C,MAAMW,aAAa,GAAGV,gBAAgB,EAAE;EACxC,MAAMW,mBAAmB,GAAGb,sBAAsB,EAAE;EAEpD,IAAIO,IAAI,KAAK,MAAM,EAAE;IACnB,OAAOE,UAAU,GAAGE,eAAe,GAAGD,SAAS;EACjD;EACA,OAAOD,UAAU,GAAGI,mBAAmB,GAAGD,aAAa;AACzD,CAAC;AAED,OAAO,MAAME,YAAY,GAAG,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAER;AAAyB,CAAC,KAAK;EAC5E,MAAM;IAAES,EAAE;IAAEC;EAAK,CAAC,GAAGH,IAAI;EAEzB,MAAMI,UAAU,GAAIC,KAAa,IAAKJ,QAAQ,CAACC,EAAE,EAAE;IAAEC,IAAI,EAAEE;EAAM,CAAC,CAAC;EAEnE,MAAMC,OAAO,GAAGf,UAAU,CAACS,IAAI,EAAEP,KAAK,CAAC;EAEvC,OACE,oBAAC,WAAW;IACV,KAAK,EAAEU,IAAK;IACZ,OAAO,EAAEG,OAAQ;IACjB,QAAQ,EAAEF,UAAW;IACrB,SAAS,EAAC;EAAO,EACjB;AAEN,CAAC"}