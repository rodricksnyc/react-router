{"version":3,"file":"NumberFilter.js","names":["convertOptionToType","convertTypeToOption","sanitizeNumber","React","useTranslation","ItemLayout","GroupSelect","numberFilterTypeToFilter","useNumberFilterOptions","useFilterOptions","NumberFilter","item","filterType","onChange","validationMessage","userAttributes","showMatchesAdvanced","rest","isParameter","field","parameter","numberFilterOptions","options","typeChange","value","id","String","FilterComponent","type","allowMultipleOptions","selectValue","validationText","message","t","placeholder","length","undefined"],"sources":["../../../../../../../src/Filter/components/AdvancedFilter/components/NumberFilter/NumberFilter.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { NumberFilterType } from '@looker/filter-expressions'\nimport {\n  convertOptionToType,\n  convertTypeToOption,\n  sanitizeNumber,\n} from '@looker/filter-expressions'\nimport React from 'react'\nimport { useTranslation } from '../../../../../utils'\nimport type { FilterParamProps } from '../../../../types/filter_param_props'\nimport { ItemLayout } from '../ItemLayout'\nimport { GroupSelect } from '../GroupSelect'\nimport { numberFilterTypeToFilter } from './utils/number_filter_type_to_filter'\nimport { useNumberFilterOptions, useFilterOptions } from '../../utils'\n\nexport const NumberFilter = ({\n  item,\n  filterType,\n  onChange,\n  validationMessage,\n  userAttributes,\n  showMatchesAdvanced,\n  ...rest\n}: FilterParamProps<NumberFilterType>) => {\n  const isParameter = !!rest.field?.parameter\n  const numberFilterOptions = useNumberFilterOptions(isParameter)\n  const options = useFilterOptions(\n    numberFilterOptions,\n    !isParameter && showMatchesAdvanced\n  )\n\n  const typeChange = (value: string) =>\n    onChange(\n      item.id,\n      sanitizeNumber({ ...item, ...convertOptionToType(String(value)) })\n    )\n\n  const FilterComponent: any = numberFilterTypeToFilter(\n    item.type,\n    !!rest.allowMultipleOptions,\n    isParameter\n  )\n  const selectValue = convertTypeToOption(item)\n\n  const validationText = validationMessage?.message\n  const { t } = useTranslation('NumberFilter')\n  const placeholder =\n    validationText ||\n    (!item?.value?.length || item.value.length === 0 ? t('any value') : '')\n\n  return (\n    <ItemLayout item={item} {...rest}>\n      <GroupSelect\n        value={selectValue}\n        options={options}\n        onChange={typeChange}\n        validationType={validationMessage?.type}\n        placement={item.type === 'null' ? undefined : 'left'}\n      />\n      <FilterComponent\n        item={item}\n        onChange={onChange}\n        validationMessage={validationMessage}\n        placement=\"right\"\n        userAttributes={userAttributes}\n        filterType={filterType}\n        placeholder={placeholder}\n      />\n    </ItemLayout>\n  )\n}\n"],"mappings":";;;;;;;AAMA,SACEA,mBAAmB,EACnBC,mBAAmB,EACnBC,cAAc,QACT,4BAA4B;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,sBAAsB;AAErD,SAASC,UAAU,QAAQ,eAAe;AAC1C,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,wBAAwB,QAAQ,sCAAsC;AAC/E,SAASC,sBAAsB,EAAEC,gBAAgB,QAAQ,aAAa;AAEtE,OAAO,MAAMC,YAAY,GAAG,QAQc;EAAA;EAAA,IARb;MAC3BC,IAAI;MACJC,UAAU;MACVC,QAAQ;MACRC,iBAAiB;MACjBC,cAAc;MACdC;IAEkC,CAAC;IADhCC,IAAI;EAEP,MAAMC,WAAW,GAAG,CAAC,iBAACD,IAAI,CAACE,KAAK,wCAAV,YAAYC,SAAS;EAC3C,MAAMC,mBAAmB,GAAGb,sBAAsB,CAACU,WAAW,CAAC;EAC/D,MAAMI,OAAO,GAAGb,gBAAgB,CAC9BY,mBAAmB,EACnB,CAACH,WAAW,IAAIF,mBAAmB,CACpC;EAED,MAAMO,UAAU,GAAIC,KAAa,IAC/BX,QAAQ,CACNF,IAAI,CAACc,EAAE,EACPvB,cAAc,iCAAMS,IAAI,GAAKX,mBAAmB,CAAC0B,MAAM,CAACF,KAAK,CAAC,CAAC,EAAG,CACnE;EAEH,MAAMG,eAAoB,GAAGpB,wBAAwB,CACnDI,IAAI,CAACiB,IAAI,EACT,CAAC,CAACX,IAAI,CAACY,oBAAoB,EAC3BX,WAAW,CACZ;EACD,MAAMY,WAAW,GAAG7B,mBAAmB,CAACU,IAAI,CAAC;EAE7C,MAAMoB,cAAc,GAAGjB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEkB,OAAO;EACjD,MAAM;IAAEC;EAAE,CAAC,GAAG7B,cAAc,CAAC,cAAc,CAAC;EAC5C,MAAM8B,WAAW,GACfH,cAAc,KACb,EAACpB,IAAI,aAAJA,IAAI,8BAAJA,IAAI,CAAEa,KAAK,wCAAX,YAAaW,MAAM,KAAIxB,IAAI,CAACa,KAAK,CAACW,MAAM,KAAK,CAAC,GAAGF,CAAC,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;EAEzE,OACE,oBAAC,UAAU;IAAC,IAAI,EAAEtB;EAAK,GAAKM,IAAI,GAC9B,oBAAC,WAAW;IACV,KAAK,EAAEa,WAAY;IACnB,OAAO,EAAER,OAAQ;IACjB,QAAQ,EAAEC,UAAW;IACrB,cAAc,EAAET,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEc,IAAK;IACxC,SAAS,EAAEjB,IAAI,CAACiB,IAAI,KAAK,MAAM,GAAGQ,SAAS,GAAG;EAAO,EACrD,EACF,oBAAC,eAAe;IACd,IAAI,EAAEzB,IAAK;IACX,QAAQ,EAAEE,QAAS;IACnB,iBAAiB,EAAEC,iBAAkB;IACrC,SAAS,EAAC,OAAO;IACjB,cAAc,EAAEC,cAAe;IAC/B,UAAU,EAAEH,UAAW;IACvB,WAAW,EAAEsB;EAAY,EACzB,CACS;AAEjB,CAAC"}