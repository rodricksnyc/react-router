{"version":3,"file":"SingleNumberInput.js","names":["getNumberFromString","React","GroupInput","getInputValue","value","singleValue","Array","isArray","includes","toString","SingleNumberInput","item","onChange","placement","validationMessage","inputChange","currentTarget","numberValue","newValueArr","Number","isNaN","id","inputValue","type"],"sources":["../../../../../../../../../src/Filter/components/AdvancedFilter/components/NumberFilter/components/SingleNumberInput/SingleNumberInput.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { ValidationMessageProps } from '@looker/components'\nimport { getNumberFromString } from '@looker/filter-expressions'\nimport type { FilterModel } from '@looker/filter-expressions'\nimport type { ChangeEvent } from 'react'\nimport React from 'react'\nimport type { GroupInputProps } from '../../../GroupInput'\nimport { GroupInput } from '../../../GroupInput'\n\ninterface SingleNumberInputProps extends Omit<GroupInputProps, 'onChange'> {\n  item: FilterModel\n  onChange?: (id: string, value: any) => void\n  validationMessage?: ValidationMessageProps\n}\n\nconst getInputValue = (value?: unknown | unknown[]) => {\n  const singleValue = (Array.isArray(value) ? value[0] : value) ?? ''\n  if (['number', 'bigint'].includes(typeof singleValue)) {\n    return singleValue.toString()\n  }\n  return singleValue || ''\n}\n\nexport const SingleNumberInput = ({\n  item,\n  onChange,\n  placement,\n  validationMessage,\n}: SingleNumberInputProps) => {\n  const inputChange = ({\n    currentTarget: { value },\n  }: ChangeEvent<HTMLInputElement>) => {\n    const numberValue = getNumberFromString(value)\n    const newValueArr = value === '' ? [] : [numberValue]\n    if (!Number.isNaN(numberValue)) {\n      onChange?.(item.id, { value: newValueArr })\n    }\n  }\n\n  const inputValue = getInputValue(item.value)\n\n  return (\n    <GroupInput\n      type=\"number\"\n      value={inputValue}\n      onChange={inputChange}\n      placement={placement}\n      minWidth=\"4.5em\"\n      data-testid=\"single-number\"\n      validationType={validationMessage?.type}\n      noErrorIcon\n    />\n  )\n}\n"],"mappings":";;AAMA,SAASA,mBAAmB,QAAQ,4BAA4B;AAGhE,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAU,QAAQ,qBAAqB;AAQhD,MAAMC,aAAa,GAAIC,KAA2B,IAAK;EAAA;EACrD,MAAMC,WAAW,WAAIC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,uCAAK,EAAE;EACnE,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAACI,QAAQ,CAAC,OAAOH,WAAW,CAAC,EAAE;IACrD,OAAOA,WAAW,CAACI,QAAQ,EAAE;EAC/B;EACA,OAAOJ,WAAW,IAAI,EAAE;AAC1B,CAAC;AAED,OAAO,MAAMK,iBAAiB,GAAG,CAAC;EAChCC,IAAI;EACJC,QAAQ;EACRC,SAAS;EACTC;AACsB,CAAC,KAAK;EAC5B,MAAMC,WAAW,GAAG,CAAC;IACnBC,aAAa,EAAE;MAAEZ;IAAM;EACM,CAAC,KAAK;IACnC,MAAMa,WAAW,GAAGjB,mBAAmB,CAACI,KAAK,CAAC;IAC9C,MAAMc,WAAW,GAAGd,KAAK,KAAK,EAAE,GAAG,EAAE,GAAG,CAACa,WAAW,CAAC;IACrD,IAAI,CAACE,MAAM,CAACC,KAAK,CAACH,WAAW,CAAC,EAAE;MAC9BL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAGD,IAAI,CAACU,EAAE,EAAE;QAAEjB,KAAK,EAAEc;MAAY,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,MAAMI,UAAU,GAAGnB,aAAa,CAACQ,IAAI,CAACP,KAAK,CAAC;EAE5C,OACE,oBAAC,UAAU;IACT,IAAI,EAAC,QAAQ;IACb,KAAK,EAAEkB,UAAW;IAClB,QAAQ,EAAEP,WAAY;IACtB,SAAS,EAAEF,SAAU;IACrB,QAAQ,EAAC,OAAO;IAChB,eAAY,eAAe;IAC3B,cAAc,EAAEC,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAES,IAAK;IACxC,WAAW;EAAA,EACX;AAEN,CAAC"}