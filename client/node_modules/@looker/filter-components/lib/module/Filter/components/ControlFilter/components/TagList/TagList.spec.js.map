{"version":3,"file":"TagList.spec.js","names":["renderWithTheme","act","fireEvent","screen","waitFor","React","TagList","describe","jest","useFakeTimers","filterOptions","optionText","input","getByPlaceholderText","change","target","value","it","onInputChange","fn","options1000","Array","from","_","i","label","String","Component","runAllTimers","expect","toHaveBeenCalledWith"],"sources":["../../../../../../../src/Filter/components/ControlFilter/components/TagList/TagList.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { act, fireEvent, screen, waitFor } from '@testing-library/react'\nimport React from 'react'\nimport { TagList } from './TagList'\n\ndescribe('TagList tests', () => {\n  jest.useFakeTimers()\n\n  describe('on `inputchange`', () => {\n    const filterOptions = (optionText: string) => {\n      const input = screen.getByPlaceholderText('any value')\n      fireEvent.change(input, { target: { value: optionText } })\n    }\n\n    describe('when options are more than 999', () => {\n      it('should trigger the input change handler', async () => {\n        const value: string[] = []\n        const onInputChange = jest.fn()\n        const options1000 = Array.from(Array(1000), (_, i) => ({\n          label: String(i),\n          value: String(i),\n        }))\n        const Component = (\n          <TagList\n            value={value}\n            options={options1000}\n            onChange={jest.fn()}\n            onInputChange={onInputChange}\n          />\n        )\n\n        renderWithTheme(Component)\n\n        filterOptions('label1')\n        act(() => {\n          jest.runAllTimers()\n        })\n        await waitFor(() => {\n          expect(onInputChange).toHaveBeenCalledWith('label1')\n        })\n      })\n    })\n  })\n})\n"],"mappings":";AAIA,SAASA,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,GAAG,EAAEC,SAAS,EAAEC,MAAM,EAAEC,OAAO,QAAQ,wBAAwB;AACxE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,WAAW;AAEnCC,QAAQ,CAAC,eAAe,EAAE,MAAM;EAC9BC,IAAI,CAACC,aAAa,EAAE;EAEpBF,QAAQ,CAAC,kBAAkB,EAAE,MAAM;IACjC,MAAMG,aAAa,GAAIC,UAAkB,IAAK;MAC5C,MAAMC,KAAK,GAAGT,MAAM,CAACU,oBAAoB,CAAC,WAAW,CAAC;MACtDX,SAAS,CAACY,MAAM,CAACF,KAAK,EAAE;QAAEG,MAAM,EAAE;UAAEC,KAAK,EAAEL;QAAW;MAAE,CAAC,CAAC;IAC5D,CAAC;IAEDJ,QAAQ,CAAC,gCAAgC,EAAE,MAAM;MAC/CU,EAAE,CAAC,yCAAyC,EAAE,YAAY;QACxD,MAAMD,KAAe,GAAG,EAAE;QAC1B,MAAME,aAAa,GAAGV,IAAI,CAACW,EAAE,EAAE;QAC/B,MAAMC,WAAW,GAAGC,KAAK,CAACC,IAAI,CAACD,KAAK,CAAC,IAAI,CAAC,EAAE,CAACE,CAAC,EAAEC,CAAC,MAAM;UACrDC,KAAK,EAAEC,MAAM,CAACF,CAAC,CAAC;UAChBR,KAAK,EAAEU,MAAM,CAACF,CAAC;QACjB,CAAC,CAAC,CAAC;QACH,MAAMG,SAAS,GACb,oBAAC,OAAO;UACN,KAAK,EAAEX,KAAM;UACb,OAAO,EAAEI,WAAY;UACrB,QAAQ,EAAEZ,IAAI,CAACW,EAAE,EAAG;UACpB,aAAa,EAAED;QAAc,EAEhC;QAEDlB,eAAe,CAAC2B,SAAS,CAAC;QAE1BjB,aAAa,CAAC,QAAQ,CAAC;QACvBT,GAAG,CAAC,MAAM;UACRO,IAAI,CAACoB,YAAY,EAAE;QACrB,CAAC,CAAC;QACF,MAAMxB,OAAO,CAAC,MAAM;UAClByB,MAAM,CAACX,aAAa,CAAC,CAACY,oBAAoB,CAAC,QAAQ,CAAC;QACtD,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}