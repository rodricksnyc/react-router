{"version":3,"file":"FilterToken.spec.js","names":["React","composeStories","fireEvent","screen","renderWithTheme","i18nInit","stories","Basic","Expression","Error","Inline","describe","it","token","getByRole","expect","toHaveTextContent","name","click","toBeVisible","getByDisplayValue","document","toBeInvalid","getByText"],"sources":["../../../src/Token/FilterToken.spec.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport React from 'react'\nimport { composeStories } from '@storybook/testing-react'\nimport { fireEvent, screen } from '@testing-library/react'\nimport { renderWithTheme } from '@looker/components-test-utils'\nimport { i18nInit } from '../utils'\nimport * as stories from './FilterToken.stories'\nconst { Basic, Expression, Error, Inline } = composeStories(stories)\n\ndescribe('FilterToken', () => {\n  i18nInit()\n  it('shows the filter summary', () => {\n    renderWithTheme(<Expression />)\n    const token = screen.getByRole('button')\n    expect(token).toHaveTextContent('is foo or bar')\n  })\n\n  it('opens a popover with filter UI', () => {\n    renderWithTheme(<Basic />)\n    const token = screen.getByRole('button', { name: 'is any time' })\n    fireEvent.click(token)\n    // the popover\n    expect(screen.getByRole('dialog')).toBeVisible()\n    // the filter dropdown\n    expect(screen.getByDisplayValue('is any time')).toBeVisible()\n\n    fireEvent.click(document)\n  })\n\n  it('shows error validation', () => {\n    renderWithTheme(<Error />)\n    const token = screen.getByRole('button', { name: 'Value required' })\n    fireEvent.click(token)\n    expect(screen.getByDisplayValue('is any time')).toBeInvalid()\n    expect(screen.getByText('Selection required')).toBeVisible()\n\n    fireEvent.click(document)\n  })\n\n  it('renders filter UI inline', () => {\n    renderWithTheme(<Inline />)\n    expect(screen.getByDisplayValue('is any time')).toBeVisible()\n  })\n})\n"],"mappings":";;AAKA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,SAAS,EAAEC,MAAM,QAAQ,wBAAwB;AAC1D,SAASC,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,QAAQ,QAAQ,UAAU;AACnC,OAAO,KAAKC,OAAO,MAAM,uBAAuB;AAChD,MAAM;EAAEC,KAAK;EAAEC,UAAU;EAAEC,KAAK;EAAEC;AAAO,CAAC,GAAGT,cAAc,CAACK,OAAO,CAAC;AAEpEK,QAAQ,CAAC,aAAa,EAAE,MAAM;EAC5BN,QAAQ,EAAE;EACVO,EAAE,CAAC,0BAA0B,EAAE,MAAM;IACnCR,eAAe,CAAC,oBAAC,UAAU,OAAG,CAAC;IAC/B,MAAMS,KAAK,GAAGV,MAAM,CAACW,SAAS,CAAC,QAAQ,CAAC;IACxCC,MAAM,CAACF,KAAK,CAAC,CAACG,iBAAiB,CAAC,eAAe,CAAC;EAClD,CAAC,CAAC;EAEFJ,EAAE,CAAC,gCAAgC,EAAE,MAAM;IACzCR,eAAe,CAAC,oBAAC,KAAK,OAAG,CAAC;IAC1B,MAAMS,KAAK,GAAGV,MAAM,CAACW,SAAS,CAAC,QAAQ,EAAE;MAAEG,IAAI,EAAE;IAAc,CAAC,CAAC;IACjEf,SAAS,CAACgB,KAAK,CAACL,KAAK,CAAC;IAEtBE,MAAM,CAACZ,MAAM,CAACW,SAAS,CAAC,QAAQ,CAAC,CAAC,CAACK,WAAW,EAAE;IAEhDJ,MAAM,CAACZ,MAAM,CAACiB,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAACD,WAAW,EAAE;IAE7DjB,SAAS,CAACgB,KAAK,CAACG,QAAQ,CAAC;EAC3B,CAAC,CAAC;EAEFT,EAAE,CAAC,wBAAwB,EAAE,MAAM;IACjCR,eAAe,CAAC,oBAAC,KAAK,OAAG,CAAC;IAC1B,MAAMS,KAAK,GAAGV,MAAM,CAACW,SAAS,CAAC,QAAQ,EAAE;MAAEG,IAAI,EAAE;IAAiB,CAAC,CAAC;IACpEf,SAAS,CAACgB,KAAK,CAACL,KAAK,CAAC;IACtBE,MAAM,CAACZ,MAAM,CAACiB,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAACE,WAAW,EAAE;IAC7DP,MAAM,CAACZ,MAAM,CAACoB,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAACJ,WAAW,EAAE;IAE5DjB,SAAS,CAACgB,KAAK,CAACG,QAAQ,CAAC;EAC3B,CAAC,CAAC;EAEFT,EAAE,CAAC,0BAA0B,EAAE,MAAM;IACnCR,eAAe,CAAC,oBAAC,MAAM,OAAG,CAAC;IAC3BW,MAAM,CAACZ,MAAM,CAACiB,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAACD,WAAW,EAAE;EAC/D,CAAC,CAAC;AACJ,CAAC,CAAC"}