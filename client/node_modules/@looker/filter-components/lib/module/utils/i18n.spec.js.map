{"version":3,"file":"i18n.spec.js","names":["i18next","es","getDateLocale","i18nInit","describe","spy","beforeEach","isInitialized","jest","spyOn","afterEach","mockRestore","it","expect","init","toHaveBeenCalledTimes","mock","calls","lng","toEqual","custom","test","dateLocale","locale","resources","toMatchObject","toBe"],"sources":["../../../src/utils/i18n.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport i18next from 'i18next'\nimport es from 'date-fns/locale/es'\nimport { getDateLocale } from '@looker/i18n'\nimport { i18nInit } from './i18n'\n\ndescribe('i18nInit', () => {\n  let spy: jest.SpyInstance\n  beforeEach(() => {\n    i18next.isInitialized = false\n    spy = jest.spyOn(i18next, 'init')\n  })\n  afterEach(() => {\n    spy.mockRestore()\n  })\n\n  it('initializes i18next', () => {\n    i18nInit()\n    expect(i18next.init).toHaveBeenCalledTimes(1)\n    expect(spy.mock.calls[0][0].lng).toEqual('en')\n  })\n\n  it('initializes i18next with specific locale and resources', () => {\n    const custom = { test: 'prueba' }\n    i18nInit({\n      dateLocale: es,\n      locale: 'es-ES',\n      resources: { 'es-ES': custom },\n    })\n    expect(i18next.init).toHaveBeenCalledTimes(1)\n    expect(spy.mock.calls[0][0].lng).toEqual('es-ES')\n    expect(spy.mock.calls[0][0].resources['es-ES']).toMatchObject(custom)\n    expect(getDateLocale()).toBe(es)\n  })\n})\n"],"mappings":";AAIA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,EAAE,MAAM,oBAAoB;AACnC,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,QAAQ,QAAQ,QAAQ;AAEjCC,QAAQ,CAAC,UAAU,EAAE,MAAM;EACzB,IAAIC,GAAqB;EACzBC,UAAU,CAAC,MAAM;IACfN,OAAO,CAACO,aAAa,GAAG,KAAK;IAC7BF,GAAG,GAAGG,IAAI,CAACC,KAAK,CAACT,OAAO,EAAE,MAAM,CAAC;EACnC,CAAC,CAAC;EACFU,SAAS,CAAC,MAAM;IACdL,GAAG,CAACM,WAAW,EAAE;EACnB,CAAC,CAAC;EAEFC,EAAE,CAAC,qBAAqB,EAAE,MAAM;IAC9BT,QAAQ,EAAE;IACVU,MAAM,CAACb,OAAO,CAACc,IAAI,CAAC,CAACC,qBAAqB,CAAC,CAAC,CAAC;IAC7CF,MAAM,CAACR,GAAG,CAACW,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC;EAChD,CAAC,CAAC;EAEFP,EAAE,CAAC,wDAAwD,EAAE,MAAM;IACjE,MAAMQ,MAAM,GAAG;MAAEC,IAAI,EAAE;IAAS,CAAC;IACjClB,QAAQ,CAAC;MACPmB,UAAU,EAAErB,EAAE;MACdsB,MAAM,EAAE,OAAO;MACfC,SAAS,EAAE;QAAE,OAAO,EAAEJ;MAAO;IAC/B,CAAC,CAAC;IACFP,MAAM,CAACb,OAAO,CAACc,IAAI,CAAC,CAACC,qBAAqB,CAAC,CAAC,CAAC;IAC7CF,MAAM,CAACR,GAAG,CAACW,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,OAAO,CAAC,OAAO,CAAC;IACjDN,MAAM,CAACR,GAAG,CAACW,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACO,SAAS,CAAC,OAAO,CAAC,CAAC,CAACC,aAAa,CAACL,MAAM,CAAC;IACrEP,MAAM,CAACX,aAAa,EAAE,CAAC,CAACwB,IAAI,CAACzB,EAAE,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC,CAAC"}