{"version":3,"file":"date_filter_to_string.spec.js","names":["describe","dateExpressionTestItems","forEach","testItem","expression","output","it","ast","parseFilterExpression","list","treeToList","item","dateComponentType","convertTypeToMatchesAdvancedOption","stringOutput","dateFilterToString","expect","toBe"],"sources":["../../../../src/utils/date/date_filter_to_string.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { convertTypeToMatchesAdvancedOption, treeToList } from '..'\nimport type { GrammarTestItem } from '../../grammars'\nimport { dateExpressionTestItems } from '../../grammars'\nimport { parseFilterExpression } from '../parse_filter_expression'\nimport { dateFilterToString } from './date_filter_to_string'\n\ndescribe('Date To String', () => {\n  dateExpressionTestItems.forEach((testItem: GrammarTestItem) => {\n    const { expression, output } = testItem\n\n    it(\n      'date filter output matches expected value for expression ' + expression,\n      () => {\n        const ast = parseFilterExpression('date', expression)\n        // test item type\n        const list = treeToList(ast)\n        const item = list[0]\n        // test output\n        // some filter types can't be represented by DateFilter,\n        // we expect this to be parsed as `type` above,\n        // but be converted to `matchesAdvanced`\n        const dateComponentType = convertTypeToMatchesAdvancedOption(item)\n        const stringOutput =\n          dateComponentType === 'matchesAdvanced'\n            ? expression\n            : dateFilterToString(ast, 'date')\n        expect(stringOutput).toBe(output)\n      }\n    )\n  })\n})\n"],"mappings":";;AAIA;AAEA;AACA;AACA;;AAEAA,QAAQ,CAAC,gBAAgB,EAAE,YAAM;EAC/BC,iCAAuB,CAACC,OAAO,CAAC,UAACC,QAAyB,EAAK;IAC7D,IAAQC,UAAU,GAAaD,QAAQ,CAA/BC,UAAU;MAAEC,MAAM,GAAKF,QAAQ,CAAnBE,MAAM;IAE1BC,EAAE,CACA,2DAA2D,GAAGF,UAAU,EACxE,YAAM;MACJ,IAAMG,GAAG,GAAG,IAAAC,8CAAqB,EAAC,MAAM,EAAEJ,UAAU,CAAC;MAErD,IAAMK,IAAI,GAAG,IAAAC,YAAU,EAACH,GAAG,CAAC;MAC5B,IAAMI,IAAI,GAAGF,IAAI,CAAC,CAAC,CAAC;MAKpB,IAAMG,iBAAiB,GAAG,IAAAC,oCAAkC,EAACF,IAAI,CAAC;MAClE,IAAMG,YAAY,GAChBF,iBAAiB,KAAK,iBAAiB,GACnCR,UAAU,GACV,IAAAW,yCAAkB,EAACR,GAAG,EAAE,MAAM,CAAC;MACrCS,MAAM,CAACF,YAAY,CAAC,CAACG,IAAI,CAACZ,MAAM,CAAC;IACnC,CAAC,CACF;EACH,CAAC,CAAC;AACJ,CAAC,CAAC"}