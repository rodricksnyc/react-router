{"version":3,"file":"location_to_string.js","names":["locationExactToString","lat","lon","circleToString","distance","unit","boxToString","lon1","lat1","anyvalue","nullToString","notNullToString","filterToStringMap","location","circle","box","notnull","user_attribute","userAttributeToString","locationToExpression","item","toStringFunction","type","locationToString","root","treeToString"],"sources":["../../../../src/utils/location/location_to_string.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type {\n  FilterASTNode,\n  FilterItemToStringMapType,\n  FilterModel,\n} from '../../types'\nimport { treeToString } from '../tree/tree_to_string'\nimport { userAttributeToString } from '../user_attribute/user_attribute_to_string'\n\nconst locationExactToString = ({ lat, lon }: FilterModel): string =>\n  lat && lon ? `${lat}, ${lon}` : ''\n\nconst circleToString = ({ distance, unit, lat, lon }: FilterModel): string =>\n  distance && unit && lat && lon\n    ? `${distance} ${unit} from ${lat}, ${lon}`\n    : ''\n\nconst boxToString = ({ lon, lat, lon1, lat1 }: FilterModel): string =>\n  lon && lat && lon1 && lat1\n    ? `inside box from ${lat}, ${lon} to ${lat1}, ${lon1}`\n    : ''\n\nconst anyvalue = () => ''\n\nconst nullToString = () => 'null'\n\nconst notNullToString = () => '-null'\n\nconst filterToStringMap: FilterItemToStringMapType = {\n  location: locationExactToString,\n  circle: circleToString,\n  box: boxToString,\n  anyvalue,\n  null: nullToString,\n  notnull: notNullToString,\n  user_attribute: userAttributeToString,\n}\n\nconst locationToExpression = (item: FilterModel): string => {\n  const toStringFunction = filterToStringMap[item.type]\n  return toStringFunction?.(item) || ''\n}\n\nexport const locationToString = (root: FilterASTNode) =>\n  treeToString(root, locationToExpression)\n"],"mappings":";;;;;;AASA;AACA;;AAEA,IAAMA,qBAAqB,GAAG,SAAxBA,qBAAqB;EAAA,IAAMC,GAAG,QAAHA,GAAG;IAAEC,GAAG,QAAHA,GAAG;EAAA,OACvCD,GAAG,IAAIC,GAAG,aAAMD,GAAG,eAAKC,GAAG,IAAK,EAAE;AAAA;AAEpC,IAAMC,cAAc,GAAG,SAAjBA,cAAc;EAAA,IAAMC,QAAQ,SAARA,QAAQ;IAAEC,IAAI,SAAJA,IAAI;IAAEJ,GAAG,SAAHA,GAAG;IAAEC,GAAG,SAAHA,GAAG;EAAA,OAChDE,QAAQ,IAAIC,IAAI,IAAIJ,GAAG,IAAIC,GAAG,aACvBE,QAAQ,cAAIC,IAAI,mBAASJ,GAAG,eAAKC,GAAG,IACvC,EAAE;AAAA;AAER,IAAMI,WAAW,GAAG,SAAdA,WAAW;EAAA,IAAMJ,GAAG,SAAHA,GAAG;IAAED,GAAG,SAAHA,GAAG;IAAEM,IAAI,SAAJA,IAAI;IAAEC,IAAI,SAAJA,IAAI;EAAA,OACzCN,GAAG,IAAID,GAAG,IAAIM,IAAI,IAAIC,IAAI,6BACHP,GAAG,eAAKC,GAAG,iBAAOM,IAAI,eAAKD,IAAI,IAClD,EAAE;AAAA;AAER,IAAME,QAAQ,GAAG,SAAXA,QAAQ;EAAA,OAAS,EAAE;AAAA;AAEzB,IAAMC,YAAY,GAAG,SAAfA,YAAY;EAAA,OAAS,MAAM;AAAA;AAEjC,IAAMC,eAAe,GAAG,SAAlBA,eAAe;EAAA,OAAS,OAAO;AAAA;AAErC,IAAMC,iBAA4C,GAAG;EACnDC,QAAQ,EAAEb,qBAAqB;EAC/Bc,MAAM,EAAEX,cAAc;EACtBY,GAAG,EAAET,WAAW;EAChBG,QAAQ,EAARA,QAAQ;EACR,QAAMC,YAAY;EAClBM,OAAO,EAAEL,eAAe;EACxBM,cAAc,EAAEC;AAClB,CAAC;AAED,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoB,CAAIC,IAAiB,EAAa;EAC1D,IAAMC,gBAAgB,GAAGT,iBAAiB,CAACQ,IAAI,CAACE,IAAI,CAAC;EACrD,OAAO,CAAAD,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAGD,IAAI,CAAC,KAAI,EAAE;AACvC,CAAC;AAEM,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,IAAmB;EAAA,OAClD,IAAAC,4BAAY,EAACD,IAAI,EAAEL,oBAAoB,CAAC;AAAA;AAAA"}