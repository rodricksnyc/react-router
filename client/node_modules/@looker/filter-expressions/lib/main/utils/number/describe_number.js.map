{"version":3,"file":"describe_number.js","names":["describeEquals","is","value","length","describeIsItem","joinOr","describeIsAnyValue","describeSingleValue","type","describeBetween","bounds","low","high","t","i18next","bind","range","isInRangeText","ns","isNotInRangeText","filterToStringMap","describeNull","between","user_attribute","describeUserAttribute","describeNumber","item","defaultTo"],"sources":["../../../../src/utils/number/describe_number.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport i18next from 'i18next'\nimport defaultTo from 'lodash/defaultTo'\nimport type { FilterItemToStringMapType, FilterModel } from '../../types'\nimport { describeIsItem } from '../summary/describe_is_item'\nimport { describeIsAnyValue } from '../summary/describe_is_any_value'\nimport { describeNull } from '../summary/describe_null'\nimport { joinOr } from '../summary/join_or'\nimport { describeUserAttribute } from '../user_attribute/describe_user_attribute'\n\nconst describeEquals = ({ is, value }: FilterModel) => {\n  return value && value.length\n    ? describeIsItem(is, joinOr(value))\n    : describeIsAnyValue()\n}\n\nconst describeSingleValue = ({ is, type, value }: FilterModel): string =>\n  describeIsItem(is, `${type} ${value && value.length ? value[0] : ''}`)\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst describeBetween = ({ bounds, low, high, is }: any) => {\n  if (bounds) {\n    const t = i18next.t.bind(i18next)\n    const range = `${bounds[0]}${low}, ${high}${bounds[1]}`\n    const isInRangeText = t('is in range range', {\n      ns: 'describe_number',\n      range,\n    })\n    const isNotInRangeText = t('is not in range range', {\n      ns: 'describe_number',\n      range,\n    })\n    return is ? isInRangeText : isNotInRangeText\n  }\n  return ''\n}\n\nconst filterToStringMap: FilterItemToStringMapType = {\n  null: describeNull,\n  between: describeBetween,\n  '=': describeEquals,\n  '>': describeSingleValue,\n  '>=': describeSingleValue,\n  '<': describeSingleValue,\n  '<=': describeSingleValue,\n  user_attribute: describeUserAttribute,\n}\n\n/**\n * Maps a FilterItem to a function for converting it to a filter summary\n */\nexport const describeNumber = (item: FilterModel): string =>\n  defaultTo(filterToStringMap[item.type], () => '')(item)\n"],"mappings":";;;;;;;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,cAAc,GAAG,SAAjBA,cAAc,OAAmC;EAAA,IAA7BC,EAAE,QAAFA,EAAE;IAAEC,KAAK,QAALA,KAAK;EACjC,OAAOA,KAAK,IAAIA,KAAK,CAACC,MAAM,GACxB,IAAAC,gCAAc,EAACH,EAAE,EAAE,IAAAI,eAAM,EAACH,KAAK,CAAC,CAAC,GACjC,IAAAI,yCAAkB,GAAE;AAC1B,CAAC;AAED,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB;EAAA,IAAMN,EAAE,SAAFA,EAAE;IAAEO,IAAI,SAAJA,IAAI;IAAEN,KAAK,SAALA,KAAK;EAAA,OAC5C,IAAAE,gCAAc,EAACH,EAAE,YAAKO,IAAI,cAAIN,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAGD,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,EAAG;AAAA;;AAGxE,IAAMO,eAAe,GAAG,SAAlBA,eAAe,QAAuC;EAAA,IAAjCC,MAAM,SAANA,MAAM;IAAEC,GAAG,SAAHA,GAAG;IAAEC,IAAI,SAAJA,IAAI;IAAEX,EAAE,SAAFA,EAAE;EAC9C,IAAIS,MAAM,EAAE;IACV,IAAMG,CAAC,GAAGC,mBAAO,CAACD,CAAC,CAACE,IAAI,CAACD,mBAAO,CAAC;IACjC,IAAME,KAAK,aAAMN,MAAM,CAAC,CAAC,CAAC,SAAGC,GAAG,eAAKC,IAAI,SAAGF,MAAM,CAAC,CAAC,CAAC,CAAE;IACvD,IAAMO,aAAa,GAAGJ,CAAC,CAAC,mBAAmB,EAAE;MAC3CK,EAAE,EAAE,iBAAiB;MACrBF,KAAK,EAALA;IACF,CAAC,CAAC;IACF,IAAMG,gBAAgB,GAAGN,CAAC,CAAC,uBAAuB,EAAE;MAClDK,EAAE,EAAE,iBAAiB;MACrBF,KAAK,EAALA;IACF,CAAC,CAAC;IACF,OAAOf,EAAE,GAAGgB,aAAa,GAAGE,gBAAgB;EAC9C;EACA,OAAO,EAAE;AACX,CAAC;AAED,IAAMC,iBAA4C,GAAG;EACnD,QAAMC,2BAAY;EAClBC,OAAO,EAAEb,eAAe;EACxB,GAAG,EAAET,cAAc;EACnB,GAAG,EAAEO,mBAAmB;EACxB,IAAI,EAAEA,mBAAmB;EACzB,GAAG,EAAEA,mBAAmB;EACxB,IAAI,EAAEA,mBAAmB;EACzBgB,cAAc,EAAEC;AAClB,CAAC;;AAKM,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,IAAiB;EAAA,OAC9C,IAAAC,qBAAS,EAACP,iBAAiB,CAACM,IAAI,CAAClB,IAAI,CAAC,EAAE;IAAA,OAAM,EAAE;EAAA,EAAC,CAACkB,IAAI,CAAC;AAAA;AAAA"}