{"version":3,"file":"sanitize_string.js","names":["sanitizeString","item","userAttributes","id","is","type","value","attributeName","userAttribute","findUserAttribute","attributeValue"],"sources":["../../../../src/utils/string/sanitize_string.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FilterModel, UserAttributeWithValue } from '../../types'\nimport { findUserAttribute } from '../user_attribute'\n\nexport const sanitizeString = (\n  item: FilterModel,\n  userAttributes: UserAttributeWithValue[] = []\n) => {\n  const { id = '0', is = true, type, value = [], attributeName } = item\n  const userAttribute = findUserAttribute(attributeName, userAttributes)\n  switch (type) {\n    case 'match':\n      return {\n        id,\n        is,\n        type,\n        value: userAttribute ? [userAttribute.value] : value,\n        attributeName: '',\n        attributeValue: '',\n      }\n    default:\n      return { ...item, attributeName: '', attributeValue: '' }\n  }\n}\n"],"mappings":";;;;;;;;AAKA;AAAqD;AAAA;AAE9C,IAAMA,cAAc,GAAG,SAAjBA,cAAc,CACzBC,IAAiB,EAEd;EAAA,IADHC,cAAwC,uEAAG,EAAE;EAE7C,eAAiED,IAAI,CAA7DE,EAAE;IAAFA,EAAE,yBAAG,GAAG;IAAA,WAAiDF,IAAI,CAAnDG,EAAE;IAAFA,EAAE,yBAAG,IAAI;IAAEC,IAAI,GAAgCJ,IAAI,CAAxCI,IAAI;IAAA,cAAgCJ,IAAI,CAAlCK,KAAK;IAALA,KAAK,4BAAG,EAAE;IAAEC,aAAa,GAAKN,IAAI,CAAtBM,aAAa;EAC5D,IAAMC,aAAa,GAAG,IAAAC,iCAAiB,EAACF,aAAa,EAAEL,cAAc,CAAC;EACtE,QAAQG,IAAI;IACV,KAAK,OAAO;MACV,OAAO;QACLF,EAAE,EAAFA,EAAE;QACFC,EAAE,EAAFA,EAAE;QACFC,IAAI,EAAJA,IAAI;QACJC,KAAK,EAAEE,aAAa,GAAG,CAACA,aAAa,CAACF,KAAK,CAAC,GAAGA,KAAK;QACpDC,aAAa,EAAE,EAAE;QACjBG,cAAc,EAAE;MAClB,CAAC;IACH;MACE,uCAAYT,IAAI;QAAEM,aAAa,EAAE,EAAE;QAAEG,cAAc,EAAE;MAAE;EAAE;AAE/D,CAAC;AAAA"}