{"version":3,"file":"date_filter_to_string.spec.js","names":["convertTypeToMatchesAdvancedOption","treeToList","dateExpressionTestItems","parseFilterExpression","dateFilterToString","describe","forEach","testItem","expression","output","it","ast","list","item","dateComponentType","stringOutput","expect","toBe"],"sources":["../../../../src/utils/date/date_filter_to_string.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { convertTypeToMatchesAdvancedOption, treeToList } from '..'\nimport type { GrammarTestItem } from '../../grammars'\nimport { dateExpressionTestItems } from '../../grammars'\nimport { parseFilterExpression } from '../parse_filter_expression'\nimport { dateFilterToString } from './date_filter_to_string'\n\ndescribe('Date To String', () => {\n  dateExpressionTestItems.forEach((testItem: GrammarTestItem) => {\n    const { expression, output } = testItem\n\n    it(\n      'date filter output matches expected value for expression ' + expression,\n      () => {\n        const ast = parseFilterExpression('date', expression)\n        // test item type\n        const list = treeToList(ast)\n        const item = list[0]\n        // test output\n        // some filter types can't be represented by DateFilter,\n        // we expect this to be parsed as `type` above,\n        // but be converted to `matchesAdvanced`\n        const dateComponentType = convertTypeToMatchesAdvancedOption(item)\n        const stringOutput =\n          dateComponentType === 'matchesAdvanced'\n            ? expression\n            : dateFilterToString(ast, 'date')\n        expect(stringOutput).toBe(output)\n      }\n    )\n  })\n})\n"],"mappings":";AAIA,SAASA,kCAAkC,EAAEC,UAAU,QAAQ,IAAI;AAEnE,SAASC,uBAAuB,QAAQ,gBAAgB;AACxD,SAASC,qBAAqB,QAAQ,4BAA4B;AAClE,SAASC,kBAAkB,QAAQ,yBAAyB;AAE5DC,QAAQ,CAAC,gBAAgB,EAAE,MAAM;EAC/BH,uBAAuB,CAACI,OAAO,CAAEC,QAAyB,IAAK;IAC7D,MAAM;MAAEC,UAAU;MAAEC;IAAO,CAAC,GAAGF,QAAQ;IAEvCG,EAAE,CACA,2DAA2D,GAAGF,UAAU,EACxE,MAAM;MACJ,MAAMG,GAAG,GAAGR,qBAAqB,CAAC,MAAM,EAAEK,UAAU,CAAC;MAErD,MAAMI,IAAI,GAAGX,UAAU,CAACU,GAAG,CAAC;MAC5B,MAAME,IAAI,GAAGD,IAAI,CAAC,CAAC,CAAC;MAKpB,MAAME,iBAAiB,GAAGd,kCAAkC,CAACa,IAAI,CAAC;MAClE,MAAME,YAAY,GAChBD,iBAAiB,KAAK,iBAAiB,GACnCN,UAAU,GACVJ,kBAAkB,CAACO,GAAG,EAAE,MAAM,CAAC;MACrCK,MAAM,CAACD,YAAY,CAAC,CAACE,IAAI,CAACR,MAAM,CAAC;IACnC,CAAC,CACF;EACH,CAAC,CAAC;AACJ,CAAC,CAAC"}