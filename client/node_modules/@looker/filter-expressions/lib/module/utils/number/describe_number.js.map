{"version":3,"file":"describe_number.js","names":["i18next","defaultTo","describeIsItem","describeIsAnyValue","describeNull","joinOr","describeUserAttribute","describeEquals","is","value","length","describeSingleValue","type","describeBetween","bounds","low","high","t","bind","range","isInRangeText","ns","isNotInRangeText","filterToStringMap","null","between","user_attribute","describeNumber","item"],"sources":["../../../../src/utils/number/describe_number.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport i18next from 'i18next'\nimport defaultTo from 'lodash/defaultTo'\nimport type { FilterItemToStringMapType, FilterModel } from '../../types'\nimport { describeIsItem } from '../summary/describe_is_item'\nimport { describeIsAnyValue } from '../summary/describe_is_any_value'\nimport { describeNull } from '../summary/describe_null'\nimport { joinOr } from '../summary/join_or'\nimport { describeUserAttribute } from '../user_attribute/describe_user_attribute'\n\nconst describeEquals = ({ is, value }: FilterModel) => {\n  return value && value.length\n    ? describeIsItem(is, joinOr(value))\n    : describeIsAnyValue()\n}\n\nconst describeSingleValue = ({ is, type, value }: FilterModel): string =>\n  describeIsItem(is, `${type} ${value && value.length ? value[0] : ''}`)\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst describeBetween = ({ bounds, low, high, is }: any) => {\n  if (bounds) {\n    const t = i18next.t.bind(i18next)\n    const range = `${bounds[0]}${low}, ${high}${bounds[1]}`\n    const isInRangeText = t('is in range range', {\n      ns: 'describe_number',\n      range,\n    })\n    const isNotInRangeText = t('is not in range range', {\n      ns: 'describe_number',\n      range,\n    })\n    return is ? isInRangeText : isNotInRangeText\n  }\n  return ''\n}\n\nconst filterToStringMap: FilterItemToStringMapType = {\n  null: describeNull,\n  between: describeBetween,\n  '=': describeEquals,\n  '>': describeSingleValue,\n  '>=': describeSingleValue,\n  '<': describeSingleValue,\n  '<=': describeSingleValue,\n  user_attribute: describeUserAttribute,\n}\n\n/**\n * Maps a FilterItem to a function for converting it to a filter summary\n */\nexport const describeNumber = (item: FilterModel): string =>\n  defaultTo(filterToStringMap[item.type], () => '')(item)\n"],"mappings":";AAIA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,SAAS,MAAM,kBAAkB;AAExC,SAASC,cAAc,QAAQ,6BAA6B;AAC5D,SAASC,kBAAkB,QAAQ,kCAAkC;AACrE,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,qBAAqB,QAAQ,2CAA2C;AAEjF,MAAMC,cAAc,GAAG,CAAC;EAAEC,EAAE;EAAEC;AAAmB,CAAC,KAAK;EACrD,OAAOA,KAAK,IAAIA,KAAK,CAACC,MAAM,GACxBR,cAAc,CAACM,EAAE,EAAEH,MAAM,CAACI,KAAK,CAAC,CAAC,GACjCN,kBAAkB,EAAE;AAC1B,CAAC;AAED,MAAMQ,mBAAmB,GAAG,CAAC;EAAEH,EAAE;EAAEI,IAAI;EAAEH;AAAmB,CAAC,KAC3DP,cAAc,CAACM,EAAE,EAAG,GAAEI,IAAK,IAAGH,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAGD,KAAK,CAAC,CAAC,CAAC,GAAG,EAAG,EAAC,CAAC;;AAGxE,MAAMI,eAAe,GAAG,CAAC;EAAEC,MAAM;EAAEC,GAAG;EAAEC,IAAI;EAAER;AAAQ,CAAC,KAAK;EAC1D,IAAIM,MAAM,EAAE;IACV,MAAMG,CAAC,GAAGjB,OAAO,CAACiB,CAAC,CAACC,IAAI,CAAClB,OAAO,CAAC;IACjC,MAAMmB,KAAK,GAAI,GAAEL,MAAM,CAAC,CAAC,CAAE,GAAEC,GAAI,KAAIC,IAAK,GAAEF,MAAM,CAAC,CAAC,CAAE,EAAC;IACvD,MAAMM,aAAa,GAAGH,CAAC,CAAC,mBAAmB,EAAE;MAC3CI,EAAE,EAAE,iBAAiB;MACrBF;IACF,CAAC,CAAC;IACF,MAAMG,gBAAgB,GAAGL,CAAC,CAAC,uBAAuB,EAAE;MAClDI,EAAE,EAAE,iBAAiB;MACrBF;IACF,CAAC,CAAC;IACF,OAAOX,EAAE,GAAGY,aAAa,GAAGE,gBAAgB;EAC9C;EACA,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,iBAA4C,GAAG;EACnDC,IAAI,EAAEpB,YAAY;EAClBqB,OAAO,EAAEZ,eAAe;EACxB,GAAG,EAAEN,cAAc;EACnB,GAAG,EAAEI,mBAAmB;EACxB,IAAI,EAAEA,mBAAmB;EACzB,GAAG,EAAEA,mBAAmB;EACxB,IAAI,EAAEA,mBAAmB;EACzBe,cAAc,EAAEpB;AAClB,CAAC;;AAKD,OAAO,MAAMqB,cAAc,GAAIC,IAAiB,IAC9C3B,SAAS,CAACsB,iBAAiB,CAACK,IAAI,CAAChB,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,CAACgB,IAAI,CAAC"}