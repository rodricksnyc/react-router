{"version":3,"file":"dimensionSeriesColors.spec.js","names":["tabularData","tabularResponse","mockSdkDataResponse","describe","it","dimensionSeriesColors","data","fields","mockFields","config","mockLineConfig","series","configResult","expect","Object","values","length","toEqual","color"],"sources":["../../../src/configTransformations/dimensionSeriesColors.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { dimensionSeriesColors } from './dimensionSeriesColors'\nimport { mockLineConfig, mockFields, mockSdkDataResponse } from '../fixtures'\nimport { tabularResponse } from '../utils'\nimport type { CSeriesBasic } from '../types'\n\nconst tabularData = tabularResponse(mockSdkDataResponse)\n\ntype ObjectSeries = { [k: string]: CSeriesBasic }\ntype ArraySeries = CSeriesBasic[]\n\ndescribe('dimensionSeriesColors', () => {\n  describe('series as object', () => {\n    it('sets a unique color for up to 50 data points', () => {\n      const { config: configResult } = dimensionSeriesColors({\n        data: tabularData,\n        fields: mockFields,\n        config: { ...mockLineConfig, series: {} },\n      })\n\n      expect(Object.values(configResult.series as ObjectSeries).length).toEqual(\n        50\n      )\n      expect((configResult.series as ObjectSeries)['2019-12-22']).toEqual({\n        color: '#6c43e0',\n      })\n    })\n\n    it('preserves user series overrides', () => {\n      const { config: configResult } = dimensionSeriesColors({\n        data: tabularData,\n        fields: mockFields,\n        config: {\n          ...mockLineConfig,\n          series: { '2019-12-22': { color: '#00FF00' } },\n        },\n      })\n\n      expect((configResult.series as ObjectSeries)['2019-12-22']).toEqual({\n        color: '#00FF00',\n      })\n    })\n  })\n\n  describe('series as array', () => {\n    it('sets a unique color for up to 50 data points', () => {\n      const { config: configResult } = dimensionSeriesColors({\n        data: tabularData,\n        fields: mockFields,\n        config: { ...mockLineConfig, series: [] },\n      })\n\n      expect((configResult.series as ArraySeries).length).toEqual(50)\n      expect((configResult.series as ArraySeries)[0]).toEqual({\n        color: '#6c43e0',\n      })\n    })\n\n    it('preserves user series overrides', () => {\n      const { config: configResult } = dimensionSeriesColors({\n        data: tabularData,\n        fields: mockFields,\n        config: {\n          ...mockLineConfig,\n          series: [{ color: '#00FF00' }],\n        },\n      })\n\n      expect((configResult.series as ArraySeries)[0]).toEqual({\n        color: '#00FF00',\n      })\n    })\n  })\n})\n"],"mappings":";;;;AAKA;AACA;AACA;AAA0C;AAAA;AAG1C,IAAMA,WAAW,GAAG,IAAAC,sBAAe,EAACC,6BAAmB,CAAC;AAKxDC,QAAQ,CAAC,uBAAuB,EAAE,YAAM;EACtCA,QAAQ,CAAC,kBAAkB,EAAE,YAAM;IACjCC,EAAE,CAAC,8CAA8C,EAAE,YAAM;MACvD,4BAAiC,IAAAC,4CAAqB,EAAC;UACrDC,IAAI,EAAEN,WAAW;UACjBO,MAAM,EAAEC,oBAAU;UAClBC,MAAM,kCAAOC,wBAAc;YAAEC,MAAM,EAAE,CAAC;UAAC;QACzC,CAAC,CAAC;QAJcC,YAAY,yBAApBH,MAAM;MAMdI,MAAM,CAACC,MAAM,CAACC,MAAM,CAACH,YAAY,CAACD,MAAM,CAAiB,CAACK,MAAM,CAAC,CAACC,OAAO,CACvE,EAAE,CACH;MACDJ,MAAM,CAAED,YAAY,CAACD,MAAM,CAAkB,YAAY,CAAC,CAAC,CAACM,OAAO,CAAC;QAClEC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFd,EAAE,CAAC,iCAAiC,EAAE,YAAM;MAC1C,6BAAiC,IAAAC,4CAAqB,EAAC;UACrDC,IAAI,EAAEN,WAAW;UACjBO,MAAM,EAAEC,oBAAU;UAClBC,MAAM,kCACDC,wBAAc;YACjBC,MAAM,EAAE;cAAE,YAAY,EAAE;gBAAEO,KAAK,EAAE;cAAU;YAAE;UAAC;QAElD,CAAC,CAAC;QAPcN,YAAY,0BAApBH,MAAM;MASdI,MAAM,CAAED,YAAY,CAACD,MAAM,CAAkB,YAAY,CAAC,CAAC,CAACM,OAAO,CAAC;QAClEC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFf,QAAQ,CAAC,iBAAiB,EAAE,YAAM;IAChCC,EAAE,CAAC,8CAA8C,EAAE,YAAM;MACvD,6BAAiC,IAAAC,4CAAqB,EAAC;UACrDC,IAAI,EAAEN,WAAW;UACjBO,MAAM,EAAEC,oBAAU;UAClBC,MAAM,kCAAOC,wBAAc;YAAEC,MAAM,EAAE;UAAE;QACzC,CAAC,CAAC;QAJcC,YAAY,0BAApBH,MAAM;MAMdI,MAAM,CAAED,YAAY,CAACD,MAAM,CAAiBK,MAAM,CAAC,CAACC,OAAO,CAAC,EAAE,CAAC;MAC/DJ,MAAM,CAAED,YAAY,CAACD,MAAM,CAAiB,CAAC,CAAC,CAAC,CAACM,OAAO,CAAC;QACtDC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFd,EAAE,CAAC,iCAAiC,EAAE,YAAM;MAC1C,6BAAiC,IAAAC,4CAAqB,EAAC;UACrDC,IAAI,EAAEN,WAAW;UACjBO,MAAM,EAAEC,oBAAU;UAClBC,MAAM,kCACDC,wBAAc;YACjBC,MAAM,EAAE,CAAC;cAAEO,KAAK,EAAE;YAAU,CAAC;UAAC;QAElC,CAAC,CAAC;QAPcN,YAAY,0BAApBH,MAAM;MASdI,MAAM,CAAED,YAAY,CAACD,MAAM,CAAiB,CAAC,CAAC,CAAC,CAACM,OAAO,CAAC;QACtDC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}