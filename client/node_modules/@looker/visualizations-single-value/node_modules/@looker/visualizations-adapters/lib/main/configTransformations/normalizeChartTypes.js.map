{"version":3,"file":"normalizeChartTypes.js","names":["CHART_TYPE_MAP","area","bar","column","line","looker_area","looker_bar","looker_column","looker_grid","looker_line","looker_pie","looker_scatter","pie","scatter","single_value","sparkline","table","isKnownChartType","type","has","normalizeChartTypes","config","data","fields","normalizedType"],"sources":["../../../src/configTransformations/normalizeChartTypes.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport has from 'lodash/has'\nimport type {\n  CAll,\n  ConfigHelper,\n  SupportedChartTypes,\n  ValueOf,\n  KnownChartTypes,\n} from '../types'\n\nexport const CHART_TYPE_MAP: Record<\n  KnownChartTypes | '',\n  ValueOf<SupportedChartTypes>\n> = {\n  '': 'default',\n  area: 'area',\n  bar: 'bar',\n  column: 'column',\n  default: 'default',\n  line: 'line',\n  looker_area: 'area',\n  looker_bar: 'bar',\n  looker_column: 'column',\n  looker_grid: 'table',\n  looker_line: 'line',\n  looker_pie: 'pie',\n  looker_scatter: 'scatter',\n  pie: 'pie',\n  scatter: 'scatter',\n  single_value: 'single_value',\n  sparkline: 'sparkline',\n  table: 'table',\n}\n\nconst isKnownChartType = (type: string): type is keyof SupportedChartTypes => {\n  return has(CHART_TYPE_MAP, type)\n}\n\n/**\n * This function should be ran BEFORE all other config helpers.\n * It normalizes the chart type names (i.e. 'line' instead of 'looker_line')\n */\nexport const normalizeChartTypes: ConfigHelper<CAll> = ({\n  config,\n  data,\n  fields,\n}) => {\n  const { type = CHART_TYPE_MAP.default } = config\n\n  const normalizedType = isKnownChartType(type) ? CHART_TYPE_MAP[type] : type\n\n  return {\n    config: { ...config, type: normalizedType },\n    data,\n    fields,\n  }\n}\n"],"mappings":";;;;;;;;AAKA;AAA4B;AAAA;AASrB,IAAMA,cAGZ,GAAG;EACF,EAAE,EAAE,SAAS;EACbC,IAAI,EAAE,MAAM;EACZC,GAAG,EAAE,KAAK;EACVC,MAAM,EAAE,QAAQ;EAChB,WAAS,SAAS;EAClBC,IAAI,EAAE,MAAM;EACZC,WAAW,EAAE,MAAM;EACnBC,UAAU,EAAE,KAAK;EACjBC,aAAa,EAAE,QAAQ;EACvBC,WAAW,EAAE,OAAO;EACpBC,WAAW,EAAE,MAAM;EACnBC,UAAU,EAAE,KAAK;EACjBC,cAAc,EAAE,SAAS;EACzBC,GAAG,EAAE,KAAK;EACVC,OAAO,EAAE,SAAS;EAClBC,YAAY,EAAE,cAAc;EAC5BC,SAAS,EAAE,WAAW;EACtBC,KAAK,EAAE;AACT,CAAC;AAAA;AAED,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,IAAY,EAAwC;EAC5E,OAAO,IAAAC,eAAG,EAACnB,cAAc,EAAEkB,IAAI,CAAC;AAClC,CAAC;;AAMM,IAAME,mBAAuC,GAAG,SAA1CA,mBAAuC,OAI9C;EAAA,IAHJC,MAAM,QAANA,MAAM;IACNC,IAAI,QAAJA,IAAI;IACJC,MAAM,QAANA,MAAM;EAEN,mBAA0CF,MAAM,CAAxCH,IAAI;IAAJA,IAAI,6BAAGlB,cAAc,WAAQ;EAErC,IAAMwB,cAAc,GAAGP,gBAAgB,CAACC,IAAI,CAAC,GAAGlB,cAAc,CAACkB,IAAI,CAAC,GAAGA,IAAI;EAE3E,OAAO;IACLG,MAAM,kCAAOA,MAAM;MAAEH,IAAI,EAAEM;IAAc,EAAE;IAC3CF,IAAI,EAAJA,IAAI;IACJC,MAAM,EAANA;EACF,CAAC;AACH,CAAC;AAAA"}