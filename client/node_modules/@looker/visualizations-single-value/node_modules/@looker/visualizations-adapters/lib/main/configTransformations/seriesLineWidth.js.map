{"version":3,"file":"seriesLineWidth.js","names":["seriesLineWidth","config","data","fields","series","restConfig","measures","getMeasureNames","buildArraySeries","s","arraySeries","i","length","line_width","set","buildNamedSeries","namedSeries","field","Array","isArray"],"sources":["../../../src/configTransformations/seriesLineWidth.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport set from 'lodash/set'\nimport type { CArea, CLine, CLineSeries } from '../adapters'\nimport type { ConfigHelper } from '../types'\nimport { getMeasureNames } from '../utils'\n\n/**\n * Set default line width when not otherwise set.\n * There is no equivalent value from the api response.\n */\nexport const seriesLineWidth: ConfigHelper<CLine | CArea> = ({\n  config,\n  data,\n  fields,\n}) => {\n  const { series = {}, ...restConfig } = config\n  const measures = getMeasureNames(fields)\n\n  const buildArraySeries = (s: CLineSeries[] = []) => {\n    const arraySeries = [...s]\n    for (let i = 0; i < measures.length; i++) {\n      const { line_width = 3 } = arraySeries[i] || {}\n      set(arraySeries, [i, 'line_width'], line_width)\n    }\n    return arraySeries\n  }\n\n  const buildNamedSeries = (s: { [k: string]: CLineSeries }) => {\n    const namedSeries = { ...s }\n    for (const field of measures) {\n      const { line_width = 3 } = namedSeries[field] || {}\n      set(namedSeries, [field, 'line_width'], line_width)\n    }\n    return namedSeries\n  }\n\n  return {\n    config: {\n      series: Array.isArray(series)\n        ? buildArraySeries(series)\n        : buildNamedSeries(series),\n      ...restConfig,\n    },\n    data,\n    fields,\n  }\n}\n"],"mappings":";;;;;;;;;;AAKA;AAGA;AAA0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAMnC,IAAMA,eAA4C,GAAG,SAA/CA,eAA4C,OAInD;EAAA,IAHJC,MAAM,QAANA,MAAM;IACNC,IAAI,QAAJA,IAAI;IACJC,MAAM,QAANA,MAAM;EAEN,qBAAuCF,MAAM,CAArCG,MAAM;IAANA,MAAM,+BAAG,CAAC,CAAC;IAAKC,UAAU,6CAAKJ,MAAM;EAC7C,IAAMK,QAAQ,GAAG,IAAAC,sBAAe,EAACJ,MAAM,CAAC;EAExC,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAgB,GAA8B;IAAA,IAA1BC,CAAgB,uEAAG,EAAE;IAC7C,IAAMC,WAAW,uCAAOD,CAAC,CAAC;IAC1B,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,QAAQ,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MACxC,YAA2BD,WAAW,CAACC,CAAC,CAAC,IAAI,CAAC,CAAC;QAAA,0BAAvCE,UAAU;QAAVA,UAAU,kCAAG,CAAC;MACtB,IAAAC,eAAG,EAACJ,WAAW,EAAE,CAACC,CAAC,EAAE,YAAY,CAAC,EAAEE,UAAU,CAAC;IACjD;IACA,OAAOH,WAAW;EACpB,CAAC;EAED,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIN,CAA+B,EAAK;IAC5D,IAAMO,WAAW,qBAAQP,CAAC,CAAE;IAAA,2CACRH,QAAQ;MAAA;IAAA;MAA5B,oDAA8B;QAAA,IAAnBW,KAAK;QACd,YAA2BD,WAAW,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC;UAAA,0BAA3CJ,UAAU;UAAVA,UAAU,kCAAG,CAAC;QACtB,IAAAC,eAAG,EAACE,WAAW,EAAE,CAACC,KAAK,EAAE,YAAY,CAAC,EAAEJ,UAAU,CAAC;MACrD;IAAC;MAAA;IAAA;MAAA;IAAA;IACD,OAAOG,WAAW;EACpB,CAAC;EAED,OAAO;IACLf,MAAM;MACJG,MAAM,EAAEc,KAAK,CAACC,OAAO,CAACf,MAAM,CAAC,GACzBI,gBAAgB,CAACJ,MAAM,CAAC,GACxBW,gBAAgB,CAACX,MAAM;IAAC,GACzBC,UAAU,CACd;IACDH,IAAI,EAAJA,IAAI;IACJC,MAAM,EAANA;EACF,CAAC;AACH,CAAC;AAAA"}