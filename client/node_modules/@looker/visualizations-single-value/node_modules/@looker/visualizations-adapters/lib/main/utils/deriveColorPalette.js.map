{"version":3,"file":"deriveColorPalette.js","names":["colorTransformations","h","s","v","deriveColorPalette","baseColors","DEFAULT_SERIES_COLORS","flatMap","t","hueDiff","satDiff","valDiff","map","color","hsv","newHue","newSat","Math","max","min","newVal","hex"],"sources":["../../../src/utils/deriveColorPalette.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { hsv } from 'd3-hsv'\nimport { DEFAULT_SERIES_COLORS } from '../utils'\n\nconst colorTransformations = [\n  { h: 0, s: 0, v: 0 }, // unmodified default colors\n  { h: 45, s: -0.05, v: 0 }, // pivot 45 degrees\n  { h: 90, s: 0, v: 0 }, // pivot 90 degrees\n  { h: -60, s: 0, v: 0 }, // pivot -60 degrees\n  { h: -90, s: 0, v: 0 }, // pivot -90 degrees\n  { h: 180, s: 0, v: 0 }, // complementary colors\n  { h: 0, s: 0.15, v: 0.15 }, // increase value and saturation by 15%\n  { h: 0, s: 0.15, v: -0.25 }, // decrease value 25%\n  { h: 0, s: -0.25, v: -0.25 }, // decrease value and saturation by 25%\n  { h: 180, s: -0.25, v: -0.25 }, // complementary colors darkened\n]\n\n/**\n * Helper function derives complementary alternate colors from a base set\n * @param baseColors an array of color codes\n * @returns an array of color codes\n */\nexport const deriveColorPalette = (\n  baseColors: string[] = DEFAULT_SERIES_COLORS\n) => {\n  return colorTransformations.flatMap((t) => {\n    const { h: hueDiff, s: satDiff, v: valDiff } = t\n    return baseColors.map((color) => {\n      const { h, s, v } = hsv(color)\n      const newHue = (h + hueDiff) % 360\n      const newSat = Math.max(Math.min(s + satDiff, 1), 0)\n      const newVal = Math.max(Math.min(v + valDiff, 1), 0)\n\n      return hsv(newHue, newSat, newVal).hex()\n    })\n  })\n}\n"],"mappings":";;;;;;AAIA;AACA;;AAEA,IAAMA,oBAAoB,GAAG,CAC3B;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAE,CAAC;AACpB;EAAEF,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,CAAC,IAAI;EAAEC,CAAC,EAAE;AAAE,CAAC;AACzB;EAAEF,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAE,CAAC;AACrB;EAAEF,CAAC,EAAE,CAAC,EAAE;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAE,CAAC;AACtB;EAAEF,CAAC,EAAE,CAAC,EAAE;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAE,CAAC;AACtB;EAAEF,CAAC,EAAE,GAAG;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAE,CAAC;AACtB;EAAEF,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE,IAAI;EAAEC,CAAC,EAAE;AAAK,CAAC;AAC1B;EAAEF,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE,IAAI;EAAEC,CAAC,EAAE,CAAC;AAAK,CAAC;AAC3B;EAAEF,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE,CAAC,IAAI;EAAEC,CAAC,EAAE,CAAC;AAAK,CAAC;AAC5B;EAAEF,CAAC,EAAE,GAAG;EAAEC,CAAC,EAAE,CAAC,IAAI;EAAEC,CAAC,EAAE,CAAC;AAAK,CAAC,CAC/B;;AAOM,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,GAE1B;EAAA,IADHC,UAAoB,uEAAGC,4BAAqB;EAE5C,OAAON,oBAAoB,CAACO,OAAO,CAAC,UAACC,CAAC,EAAK;IACzC,IAAWC,OAAO,GAA6BD,CAAC,CAAxCP,CAAC;MAAcS,OAAO,GAAiBF,CAAC,CAA5BN,CAAC;MAAcS,OAAO,GAAKH,CAAC,CAAhBL,CAAC;IACjC,OAAOE,UAAU,CAACO,GAAG,CAAC,UAACC,KAAK,EAAK;MAC/B,WAAoB,IAAAC,UAAG,EAACD,KAAK,CAAC;QAAtBZ,CAAC,QAADA,CAAC;QAAEC,CAAC,QAADA,CAAC;QAAEC,CAAC,QAADA,CAAC;MACf,IAAMY,MAAM,GAAG,CAACd,CAAC,GAAGQ,OAAO,IAAI,GAAG;MAClC,IAAMO,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACjB,CAAC,GAAGQ,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACpD,IAAMU,MAAM,GAAGH,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAAChB,CAAC,GAAGQ,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MAEpD,OAAO,IAAAG,UAAG,EAACC,MAAM,EAAEC,MAAM,EAAEI,MAAM,CAAC,CAACC,GAAG,EAAE;IAC1C,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAAA"}