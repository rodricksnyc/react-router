{"version":3,"file":"getVisibleMeasureNames.js","names":["getVisibleMeasureNames","fields","DEFAULT_EMPTY_FIELDS","config","measures","visibleMeasures","filter","measure","index","series","isArray","visible","name","map"],"sources":["../../../src/utils/getVisibleMeasureNames.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport isArray from 'lodash/isArray'\nimport { DEFAULT_EMPTY_FIELDS } from '.'\nimport type { CCartesian, Fields } from '../types'\n\n/**\n * This function extracts measure names of visible measures from the fields object.\n *\n * @param fields is the Fields response as returned by the SDK\n * @returns an array of strings names\n */\n\nexport const getVisibleMeasureNames = (\n  fields: Fields = DEFAULT_EMPTY_FIELDS,\n  config: CCartesian\n): string[] => {\n  const { measures = [] } = fields\n\n  const visibleMeasures = measures.filter((measure, index) => {\n    /**\n     * Because config.series is optional, we need to check for its existence\n     * before including it in visibility logic.\n     */\n    if (config.series) {\n      return isArray(config.series)\n        ? config?.series?.[index]?.visible\n        : config?.series?.[measure.name]?.visible\n    }\n\n    /**\n     * If we get here, we don't have enough information to hide the given series,\n     * so just return true\n     */\n    return true\n  })\n\n  return visibleMeasures.map((measure) => measure.name)\n}\n"],"mappings":";;;;;;;AAKA;AACA;;AAUO,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAsB,GAGpB;EAAA,IAFbC,MAAc,uEAAGC,sBAAoB;EAAA,IACrCC,MAAkB;EAElB,uBAA0BF,MAAM,CAAxBG,QAAQ;IAARA,QAAQ,iCAAG,EAAE;EAErB,IAAMC,eAAe,GAAGD,QAAQ,CAACE,MAAM,CAAC,UAACC,OAAO,EAAEC,KAAK,EAAK;IAK1D,IAAIL,MAAM,CAACM,MAAM,EAAE;MAAA;MACjB,OAAO,IAAAC,mBAAO,EAACP,MAAM,CAACM,MAAM,CAAC,GACzBN,MAAM,aAANA,MAAM,yCAANA,MAAM,CAAEM,MAAM,2EAAd,eAAiBD,KAAK,CAAC,yDAAvB,qBAAyBG,OAAO,GAChCR,MAAM,aAANA,MAAM,0CAANA,MAAM,CAAEM,MAAM,6EAAd,gBAAiBF,OAAO,CAACK,IAAI,CAAC,0DAA9B,sBAAgCD,OAAO;IAC7C;;IAMA,OAAO,IAAI;EACb,CAAC,CAAC;EAEF,OAAON,eAAe,CAACQ,GAAG,CAAC,UAACN,OAAO;IAAA,OAAKA,OAAO,CAACK,IAAI;EAAA,EAAC;AACvD,CAAC;AAAA"}