{"version":3,"file":"tabularPivotResponse.spec.js","names":["describe","it","transformedData","tabularPivotResponse","data","mockSdkPivotDataResponse","fields","mockSdkFieldsResponse","pivots","mockPivots","expectedKeys","forEach","key","expect","not","toBeUndefined","toBe"],"sources":["../../../src/utils/tabularPivotResponse.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { tabularPivotResponse } from './tabularPivotResponse'\nimport {\n  mockPivots,\n  mockSdkPivotDataResponse,\n  mockSdkFieldsResponse,\n} from '../fixtures'\n\nimport type { Fields } from '../types'\n\ndescribe('tabularPivotResponse', () => {\n  it('flattens raw pivot data', () => {\n    const transformedData = tabularPivotResponse({\n      data: mockSdkPivotDataResponse,\n      fields: mockSdkFieldsResponse as Fields,\n      pivots: mockPivots,\n    })\n\n    const expectedKeys = [\n      'orders.created_date',\n      'complete - orders.count',\n      'pending - orders.count',\n      'cancelled - orders.count',\n      'complete - orders.average_total_amount_of_order_usd',\n      'pending - orders.average_total_amount_of_order_usd',\n      'cancelled - orders.average_total_amount_of_order_usd',\n    ]\n\n    expectedKeys.forEach((key) => {\n      expect(transformedData[0][key]).not.toBeUndefined()\n    })\n\n    expect(transformedData[0]['pending - orders.count']).toBe(38)\n    expect(\n      transformedData[1]['pending - orders.average_total_amount_of_order_usd']\n    ).toBe(80.47117647058822)\n  })\n})\n"],"mappings":";;AAKA;AACA;;AAQAA,QAAQ,CAAC,sBAAsB,EAAE,YAAM;EACrCC,EAAE,CAAC,yBAAyB,EAAE,YAAM;IAClC,IAAMC,eAAe,GAAG,IAAAC,0CAAoB,EAAC;MAC3CC,IAAI,EAAEC,kCAAwB;MAC9BC,MAAM,EAAEC,+BAA+B;MACvCC,MAAM,EAAEC;IACV,CAAC,CAAC;IAEF,IAAMC,YAAY,GAAG,CACnB,qBAAqB,EACrB,yBAAyB,EACzB,wBAAwB,EACxB,0BAA0B,EAC1B,qDAAqD,EACrD,oDAAoD,EACpD,sDAAsD,CACvD;IAEDA,YAAY,CAACC,OAAO,CAAC,UAACC,GAAG,EAAK;MAC5BC,MAAM,CAACX,eAAe,CAAC,CAAC,CAAC,CAACU,GAAG,CAAC,CAAC,CAACE,GAAG,CAACC,aAAa,EAAE;IACrD,CAAC,CAAC;IAEFF,MAAM,CAACX,eAAe,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAACc,IAAI,CAAC,EAAE,CAAC;IAC7DH,MAAM,CACJX,eAAe,CAAC,CAAC,CAAC,CAAC,oDAAoD,CAAC,CACzE,CAACc,IAAI,CAAC,iBAAiB,CAAC;EAC3B,CAAC,CAAC;AACJ,CAAC,CAAC"}