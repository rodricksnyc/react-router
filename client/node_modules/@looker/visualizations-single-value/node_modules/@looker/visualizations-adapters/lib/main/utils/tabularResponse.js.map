{"version":3,"file":"tabularResponse.js","names":["tabularResponse","data","map","d","dataEntries","Object","entries","fromEntries","key","val","has","value"],"sources":["../../../src/utils/tabularResponse.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport has from 'lodash/has'\nimport type { SDKRecord } from '../types'\n\nexport type TabularResponseHelper = (data: SDKRecord[]) => SDKRecord[]\n\n/**\n * Transform query response to to a cleaner key/value collection\n */\nexport const tabularResponse: TabularResponseHelper = (data = []) =>\n  data.map((d) => {\n    const dataEntries = Object.entries(d)\n    return Object.fromEntries(\n      dataEntries.map(([key, val]: [string, { value: unknown }]) => [\n        key,\n        has(val, 'value') ? val.value : val,\n      ])\n    )\n  })\n"],"mappings":";;;;;;;;AAKA;;AAQO,IAAMA,eAAsC,GAAG,SAAzCA,eAAsC;EAAA,IAAIC,IAAI,uEAAG,EAAE;EAAA,OAC9DA,IAAI,CAACC,GAAG,CAAC,UAACC,CAAC,EAAK;IACd,IAAMC,WAAW,GAAGC,MAAM,CAACC,OAAO,CAACH,CAAC,CAAC;IACrC,OAAOE,MAAM,CAACE,WAAW,CACvBH,WAAW,CAACF,GAAG,CAAC;MAAA;QAAEM,GAAG;QAAEC,GAAG;MAAA,OAAoC,CAC5DD,GAAG,EACH,IAAAE,eAAG,EAACD,GAAG,EAAE,OAAO,CAAC,GAAGA,GAAG,CAACE,KAAK,GAAGF,GAAG,CACpC;IAAA,EAAC,CACH;EACH,CAAC,CAAC;AAAA;AAAA"}