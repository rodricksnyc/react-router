{"version":3,"file":"legendPosition.js","names":["legendPosition","config","data","fields","hide_legend","legend_position","legend","restConfig","DEFAULT_POSITION","type","LEGEND_POSITION","bottom","center","left","right","top","positionValue","position"],"sources":["../../../src/configTransformations/legendPosition.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type {\n  ConfigHelper,\n  CommonCartesianProperties,\n  LegendPositions,\n} from '../types'\n\n/**\n * Combine `legend_position` and `hide_legend` into a single `legend` object.\n */\nexport const legendPosition: ConfigHelper<CommonCartesianProperties> = ({\n  config,\n  data,\n  fields,\n}) => {\n  type DefaultApiResponse = 'left' | 'center' | 'right'\n  type AllKeys = DefaultApiResponse & LegendPositions & ''\n\n  const { hide_legend, legend_position, legend, ...restConfig } = config\n\n  // Pie charts render legend to the right by default. All other cartesian charts\n  // render the legend below.\n  const DEFAULT_POSITION = config.type === 'pie' ? 'right' : 'bottom'\n\n  const LEGEND_POSITION: Record<AllKeys, LegendPositions> = {\n    '': DEFAULT_POSITION,\n    bottom: 'bottom',\n    center: DEFAULT_POSITION,\n    left: 'left',\n    right: 'right',\n    top: 'top',\n  }\n\n  const positionValue =\n    LEGEND_POSITION[\n      ((legend && legend.position) || legend_position || '') as AllKeys\n    ]\n\n  return {\n    config: {\n      ...restConfig,\n      legend:\n        hide_legend === true || legend === false\n          ? false\n          : {\n              ...legend,\n              position: positionValue,\n            },\n    },\n    data,\n    fields,\n  }\n}\n"],"mappings":";;;;;;AAcA,OAAO,MAAMA,cAAuD,GAAG,CAAC;EACtEC,MAAM;EACNC,IAAI;EACJC;AACF,CAAC,KAAK;EAIJ,MAAM;MAAEC,WAAW;MAAEC,eAAe;MAAEC;IAAsB,CAAC,GAAGL,MAAM;IAArBM,UAAU,4BAAKN,MAAM;;EAItE,MAAMO,gBAAgB,GAAGP,MAAM,CAACQ,IAAI,KAAK,KAAK,GAAG,OAAO,GAAG,QAAQ;EAEnE,MAAMC,eAAiD,GAAG;IACxD,EAAE,EAAEF,gBAAgB;IACpBG,MAAM,EAAE,QAAQ;IAChBC,MAAM,EAAEJ,gBAAgB;IACxBK,IAAI,EAAE,MAAM;IACZC,KAAK,EAAE,OAAO;IACdC,GAAG,EAAE;EACP,CAAC;EAED,MAAMC,aAAa,GACjBN,eAAe,CACXJ,MAAM,IAAIA,MAAM,CAACW,QAAQ,IAAKZ,eAAe,IAAI,EAAE,CACtD;EAEH,OAAO;IACLJ,MAAM,kCACDM,UAAU;MACbD,MAAM,EACJF,WAAW,KAAK,IAAI,IAAIE,MAAM,KAAK,KAAK,GACpC,KAAK,mCAEAA,MAAM;QACTW,QAAQ,EAAED;MAAa;IACxB,EACR;IACDd,IAAI;IACJC;EACF,CAAC;AACH,CAAC"}