{"version":3,"file":"legendValue.js","names":["legendValue","config","data","fields","LEGEND_VALUE","lab","label","labPer","label_percent","labVal","label_value","per","percent","val","value","label_type","legend","restConfig"],"sources":["../../../src/configTransformations/legendValue.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CPie } from '../adapters'\nimport type { ConfigHelper, LegendValues, RawApiConfigResponse } from '../types'\n\n/**\n * Set the value that you want to appear in the legend.\n * Sets 'label' by default.\n */\nexport const legendValue: ConfigHelper<CPie> = ({ config, data, fields }) => {\n  type AllKeys = RawApiConfigResponse['label_type'] & LegendValues & ''\n\n  const LEGEND_VALUE: Record<AllKeys, LegendValues> = {\n    '': 'label_percent',\n    lab: 'label',\n    label: 'label',\n    labPer: 'label_percent',\n    label_percent: 'label_percent',\n    labVal: 'label_value',\n    label_value: 'label_value',\n    per: 'percent',\n    percent: 'percent',\n    val: 'value',\n    value: 'value',\n  }\n\n  const { label_type, legend, ...restConfig } = config\n\n  const legendValue =\n    LEGEND_VALUE[((legend && legend.value) || label_type || '') as AllKeys]\n\n  return {\n    config: {\n      legend:\n        legend === false\n          ? false\n          : {\n              ...legend,\n              value: legendValue,\n            },\n      ...restConfig,\n    },\n    data,\n    fields,\n  }\n}\n"],"mappings":";;;;;;AAYA,OAAO,MAAMA,WAA+B,GAAG,CAAC;EAAEC,MAAM;EAAEC,IAAI;EAAEC;AAAO,CAAC,KAAK;EAG3E,MAAMC,YAA2C,GAAG;IAClD,EAAE,EAAE,eAAe;IACnBC,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE,OAAO;IACdC,MAAM,EAAE,eAAe;IACvBC,aAAa,EAAE,eAAe;IAC9BC,MAAM,EAAE,aAAa;IACrBC,WAAW,EAAE,aAAa;IAC1BC,GAAG,EAAE,SAAS;IACdC,OAAO,EAAE,SAAS;IAClBC,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE;EACT,CAAC;EAED,MAAM;MAAEC,UAAU;MAAEC;IAAsB,CAAC,GAAGf,MAAM;IAArBgB,UAAU,4BAAKhB,MAAM;EAEpD,MAAMD,WAAW,GACfI,YAAY,CAAGY,MAAM,IAAIA,MAAM,CAACF,KAAK,IAAKC,UAAU,IAAI,EAAE,CAAa;EAEzE,OAAO;IACLd,MAAM;MACJe,MAAM,EACJA,MAAM,KAAK,KAAK,GACZ,KAAK,mCAEAA,MAAM;QACTF,KAAK,EAAEd;MAAW;IACnB,GACJiB,UAAU,CACd;IACDf,IAAI;IACJC;EACF,CAAC;AACH,CAAC"}