{"version":3,"file":"nullValueZero.js","names":["getMeasureNames","pick","nullValueZero","data","fields","config","render_null_values","measureNames","draftData","map","d","measures","Object","entries","key","val","Number","fromEntries"],"sources":["../../../src/dataTransformations/nullValueZero.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport type { CLineBase } from '../adapters'\nimport type { ConfigHelper } from '../types'\nimport { getMeasureNames } from '../utils'\nimport pick from 'lodash/pick'\n\n/**\n * Data transformation replaces all null values with 0 when\n * config.render_null_values is true.\n */\n\nexport const nullValueZero: ConfigHelper<CLineBase> = ({\n  data,\n  fields,\n  config,\n}) => {\n  if (config?.render_null_values) {\n    const measureNames = getMeasureNames(fields)\n    const draftData = data.map((d) => {\n      const measures = Object.entries(pick(d, measureNames)).map(\n        ([key, val]) => [key, Number(val)]\n      )\n      return { ...d, ...Object.fromEntries(measures) }\n    })\n\n    return { data: draftData, fields, config }\n  }\n  return { data, fields, config }\n}\n"],"mappings":";;;;AAOA,SAASA,eAAe,QAAQ,UAAU;AAC1C,OAAOC,IAAI,MAAM,aAAa;;AAO9B,OAAO,MAAMC,aAAsC,GAAG,CAAC;EACrDC,IAAI;EACJC,MAAM;EACNC;AACF,CAAC,KAAK;EACJ,IAAIA,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEC,kBAAkB,EAAE;IAC9B,MAAMC,YAAY,GAAGP,eAAe,CAACI,MAAM,CAAC;IAC5C,MAAMI,SAAS,GAAGL,IAAI,CAACM,GAAG,CAAEC,CAAC,IAAK;MAChC,MAAMC,QAAQ,GAAGC,MAAM,CAACC,OAAO,CAACZ,IAAI,CAACS,CAAC,EAAEH,YAAY,CAAC,CAAC,CAACE,GAAG,CACxD,CAAC,CAACK,GAAG,EAAEC,GAAG,CAAC,KAAK,CAACD,GAAG,EAAEE,MAAM,CAACD,GAAG,CAAC,CAAC,CACnC;MACD,uCAAYL,CAAC,GAAKE,MAAM,CAACK,WAAW,CAACN,QAAQ,CAAC;IAChD,CAAC,CAAC;IAEF,OAAO;MAAER,IAAI,EAAEK,SAAS;MAAEJ,MAAM;MAAEC;IAAO,CAAC;EAC5C;EACA,OAAO;IAAEF,IAAI;IAAEC,MAAM;IAAEC;EAAO,CAAC;AACjC,CAAC"}