{"version":3,"file":"generateLegend.js","names":["map","get","DEFAULT_EMPTY_FIELDS","ENDASH","generateLegend","fields","config","defaultDimensionLabel","dimensions","d","label","join","defaultMeasureLabel","measures","m","dimension","measure"],"sources":["../../../src/utils/generateLegend.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport map from 'lodash/map'\nimport get from 'lodash/get'\nimport { DEFAULT_EMPTY_FIELDS } from '.'\nimport type { SDKRecord, CAll, Fields } from '../types'\n\nconst ENDASH = '\\u2013'\n\nexport type Legend = {\n  dimension: string\n  measure: string\n}\n\nexport const generateLegend = (\n  fields: Fields = DEFAULT_EMPTY_FIELDS,\n  config: Partial<CAll>\n): Legend => {\n  const defaultDimensionLabel = map(\n    fields.dimensions,\n    (d: SDKRecord) => d.label\n  ).join(` ${ENDASH} `)\n  const defaultMeasureLabel = map(\n    fields.measures,\n    (m: SDKRecord) => m.label\n  ).join(` ${ENDASH} `)\n\n  return {\n    dimension: get(config, 'x_axis_label', defaultDimensionLabel) as string,\n    measure: get(config, 'y_axes[0].label', defaultMeasureLabel) as string,\n  }\n}\n"],"mappings":";;AAKA,OAAOA,GAAG,MAAM,YAAY;AAC5B,OAAOC,GAAG,MAAM,YAAY;AAC5B,SAASC,oBAAoB,QAAQ,GAAG;AAGxC,MAAMC,MAAM,GAAG,QAAQ;AAOvB,OAAO,MAAMC,cAAc,GAAG,CAC5BC,MAAc,GAAGH,oBAAoB,EACrCI,MAAqB,KACV;EACX,MAAMC,qBAAqB,GAAGP,GAAG,CAC/BK,MAAM,CAACG,UAAU,EAChBC,CAAY,IAAKA,CAAC,CAACC,KAAK,CAC1B,CAACC,IAAI,CAAE,IAAGR,MAAO,GAAE,CAAC;EACrB,MAAMS,mBAAmB,GAAGZ,GAAG,CAC7BK,MAAM,CAACQ,QAAQ,EACdC,CAAY,IAAKA,CAAC,CAACJ,KAAK,CAC1B,CAACC,IAAI,CAAE,IAAGR,MAAO,GAAE,CAAC;EAErB,OAAO;IACLY,SAAS,EAAEd,GAAG,CAACK,MAAM,EAAE,cAAc,EAAEC,qBAAqB,CAAW;IACvES,OAAO,EAAEf,GAAG,CAACK,MAAM,EAAE,iBAAiB,EAAEM,mBAAmB;EAC7D,CAAC;AACH,CAAC"}