{"version":3,"file":"tabularPivotResponse.spec.js","names":["tabularPivotResponse","mockPivots","mockSdkPivotDataResponse","mockSdkFieldsResponse","describe","it","transformedData","data","fields","pivots","expectedKeys","forEach","key","expect","not","toBeUndefined","toBe"],"sources":["../../../src/utils/tabularPivotResponse.spec.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport { tabularPivotResponse } from './tabularPivotResponse'\nimport {\n  mockPivots,\n  mockSdkPivotDataResponse,\n  mockSdkFieldsResponse,\n} from '../fixtures'\n\nimport type { Fields } from '../types'\n\ndescribe('tabularPivotResponse', () => {\n  it('flattens raw pivot data', () => {\n    const transformedData = tabularPivotResponse({\n      data: mockSdkPivotDataResponse,\n      fields: mockSdkFieldsResponse as Fields,\n      pivots: mockPivots,\n    })\n\n    const expectedKeys = [\n      'orders.created_date',\n      'complete - orders.count',\n      'pending - orders.count',\n      'cancelled - orders.count',\n      'complete - orders.average_total_amount_of_order_usd',\n      'pending - orders.average_total_amount_of_order_usd',\n      'cancelled - orders.average_total_amount_of_order_usd',\n    ]\n\n    expectedKeys.forEach((key) => {\n      expect(transformedData[0][key]).not.toBeUndefined()\n    })\n\n    expect(transformedData[0]['pending - orders.count']).toBe(38)\n    expect(\n      transformedData[1]['pending - orders.average_total_amount_of_order_usd']\n    ).toBe(80.47117647058822)\n  })\n})\n"],"mappings":";;AAKA,SAASA,oBAAoB,QAAQ,wBAAwB;AAC7D,SACEC,UAAU,EACVC,wBAAwB,EACxBC,qBAAqB,QAChB,aAAa;AAIpBC,QAAQ,CAAC,sBAAsB,EAAE,MAAM;EACrCC,EAAE,CAAC,yBAAyB,EAAE,MAAM;IAClC,MAAMC,eAAe,GAAGN,oBAAoB,CAAC;MAC3CO,IAAI,EAAEL,wBAAwB;MAC9BM,MAAM,EAAEL,qBAA+B;MACvCM,MAAM,EAAER;IACV,CAAC,CAAC;IAEF,MAAMS,YAAY,GAAG,CACnB,qBAAqB,EACrB,yBAAyB,EACzB,wBAAwB,EACxB,0BAA0B,EAC1B,qDAAqD,EACrD,oDAAoD,EACpD,sDAAsD,CACvD;IAEDA,YAAY,CAACC,OAAO,CAAEC,GAAG,IAAK;MAC5BC,MAAM,CAACP,eAAe,CAAC,CAAC,CAAC,CAACM,GAAG,CAAC,CAAC,CAACE,GAAG,CAACC,aAAa,EAAE;IACrD,CAAC,CAAC;IAEFF,MAAM,CAACP,eAAe,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAACU,IAAI,CAAC,EAAE,CAAC;IAC7DH,MAAM,CACJP,eAAe,CAAC,CAAC,CAAC,CAAC,oDAAoD,CAAC,CACzE,CAACU,IAAI,CAAC,iBAAiB,CAAC;EAC3B,CAAC,CAAC;AACJ,CAAC,CAAC"}