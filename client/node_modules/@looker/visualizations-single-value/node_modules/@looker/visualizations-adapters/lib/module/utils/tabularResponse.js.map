{"version":3,"file":"tabularResponse.js","names":["has","tabularResponse","data","map","d","dataEntries","Object","entries","fromEntries","key","val","value"],"sources":["../../../src/utils/tabularResponse.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\nimport has from 'lodash/has'\nimport type { SDKRecord } from '../types'\n\nexport type TabularResponseHelper = (data: SDKRecord[]) => SDKRecord[]\n\n/**\n * Transform query response to to a cleaner key/value collection\n */\nexport const tabularResponse: TabularResponseHelper = (data = []) =>\n  data.map((d) => {\n    const dataEntries = Object.entries(d)\n    return Object.fromEntries(\n      dataEntries.map(([key, val]: [string, { value: unknown }]) => [\n        key,\n        has(val, 'value') ? val.value : val,\n      ])\n    )\n  })\n"],"mappings":";;AAKA,OAAOA,GAAG,MAAM,YAAY;AAQ5B,OAAO,MAAMC,eAAsC,GAAG,CAACC,IAAI,GAAG,EAAE,KAC9DA,IAAI,CAACC,GAAG,CAAEC,CAAC,IAAK;EACd,MAAMC,WAAW,GAAGC,MAAM,CAACC,OAAO,CAACH,CAAC,CAAC;EACrC,OAAOE,MAAM,CAACE,WAAW,CACvBH,WAAW,CAACF,GAAG,CAAC,CAAC,CAACM,GAAG,EAAEC,GAAG,CAA+B,KAAK,CAC5DD,GAAG,EACHT,GAAG,CAACU,GAAG,EAAE,OAAO,CAAC,GAAGA,GAAG,CAACC,KAAK,GAAGD,GAAG,CACpC,CAAC,CACH;AACH,CAAC,CAAC"}